<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Alkanes – SPM Micro-Course</title>
  <style>
    :root{
      --bg:#f0f4f8;
      --card:#ffffffee;
      --primary:#667eea;
      --secondary:#764ba2;
      --radius:16px;
      --shadow:0 8px 32px rgba(31,38,135,.15);
    }
    body{margin:0;background:linear-gradient(135deg,var(--primary),var(--secondary));min-height:100vh;color:#333;line-height:1.6;padding:2rem;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}
    header{text-align:center;color:#fff;margin-bottom:2rem}
    header h1{font-size:2.5rem;margin:.3rem 0}
    nav{display:flex;flex-wrap:wrap;gap:.5rem;justify-content:center;margin-bottom:2rem}
    nav a{color:#fff;text-decoration:none;background:rgba(255,255,255,.2);padding:.6rem 1rem;border-radius:var(--radius);backdrop-filter:blur(8px)}
    nav a:hover{background:rgba(255,255,255,.3)}
    .section{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);backdrop-filter:blur(8px);padding:2rem;margin-bottom:2rem}
    table{width:100%;border-collapse:collapse}
    th,td{padding:.7rem;border-bottom:1px solid #e5e5e5;text-align:center}
    th{background:#f7f9fc;font-weight:600}
    img.tetra{display:block;margin:1rem auto;max-width:180px;border-radius:var(--radius)}
    .flex{display:flex;gap:1rem;flex-wrap:wrap}
    .flex>div{flex:1 1 250px}
    canvas{border:1px solid #e5e5e5;border-radius:var(--radius);background:#fff}
    button{background:linear-gradient(135deg,var(--primary),var(--secondary));color:#fff;border:none;padding:.7rem 1.2rem;border-radius:var(--radius);cursor:pointer;margin:.25rem}
    button:disabled{opacity:.5}
    .correct{background:#38b000}
    .wrong{background:#e63946}
  </style>
</head>

<body>
<h1>✨ Alkanes SPM Course</h1>
<p>Beautiful & interactive revision</p>

<nav>
  <a href="#intro">📚 What are Alkanes?</a>
  <a href="#geometry">🔺 Geometry</a>
  <a href="#formula">🧮 Formula</a>
  <a href="#table">🔤 10 Alkanes</a>
  <a href="#reactions">⚙️ Reactions</a>
  <a href="#props">🧪 Properties & Uses</a>
  <a href="#draw">🎨 Draw Butane</a>
  <a href="#quiz">📝 Quiz</a>
</nav>

<!-- 1️⃣ INTRO -->
<section id="intro" class="section">
  <h2>📚 What Are Alkanes?</h2>
  <ul>
    <li><strong>Alkanes</strong> are <strong>saturated hydrocarbons</strong>.</li>
    <li><strong>Saturated</strong> → only single covalent bonds.</li>
    <li><strong>Hydrocarbon</strong> → carbon & hydrogen only.</li>
  </ul>
</section>

<!-- 2️⃣ GEOMETRY -->
<section id="geometry" class="section">
  <h2>🔺 Tetrahedral Geometry</h2>
  <img class="tetra" src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9b/Methane-2D-dimensions.svg/1280px-Methane-2D-dimensions.svg.png" alt="Methane 2-D">
  <p>Every carbon sits at the centre of a <strong>tetrahedron</strong> with bond angles <strong>109.5°</strong>.</p>
</section>

<!-- 3️⃣ GENERAL FORMULA -->
<section id="formula" class="section">
  <h2>🧮 General Formula</h2>
  <p style="font-family:'Fira Code',monospace;font-size:1.4rem">C<sub>n</sub>H<sub>2n+2</sub></p>
  <p>Example: n = 4 → C₄H₁₀ (butane)</p>
</section>

<!-- 4️⃣ FIRST 10 ALKANES -->
<section id="table" class="section">
  <h2>🔤 First 10 Alkanes</h2>
  <table>
    <thead><tr><th>C atoms</th><th>Name</th><th>Formula</th><th>Condensed</th></tr></thead>
    <tbody>
      <tr><td>1</td><td>Methane</td><td>CH₄</td><td>CH₄</td></tr>
      <tr><td>2</td><td>Ethane</td><td>C₂H₆</td><td>CH₃–CH₃</td></tr>
      <tr><td>3</td><td>Propane</td><td>C₃H₈</td><td>CH₃–CH₂–CH₃</td></tr>
      <tr><td>4</td><td>Butane</td><td>C₄H₁₀</td><td>CH₃–CH₂–CH₂–CH₃</td></tr>
      <tr><td>5</td><td>Pentane</td><td>C₅H₁₂</td><td>CH₃(CH₂)₃CH₃</td></tr>
      <tr><td>6</td><td>Hexane</td><td>C₆H₁₄</td><td>CH₃(CH₂)₄CH₃</td></tr>
      <tr><td>7</td><td>Heptane</td><td>C₇H₁₆</td><td>CH₃(CH₂)₅CH₃</td></tr>
      <tr><td>8</td><td>Octane</td><td>C₈H₁₈</td><td>CH₃(CH₂)₆CH₃</td></tr>
      <tr><td>9</td><td>Nonane</td><td>C₉H₂₀</td><td>CH₃(CH₂)₇CH₃</td></tr>
    <tr><td>10</td><td>Decane</td><td>C₁₀H₂₂</td><td>CH₃(CH₂)₈CH₃</td></tr>
    </tbody>
  </table>
</section>

<!-- 5️⃣ REACTIONS -->
<section id="reactions" class="section">
  <h2>⚙️ Common Reactions</h2>
  <div class="flex">
    <div>
      <h3>1️⃣ Combustion</h3>
      <p>Complete: CH₄ + 2 O₂ → CO₂ + 2 H₂O</p>
      <p>Incomplete: CH₄ + O₂ → CO + H₂O</p>
    </div>
    <div>
      <h3>2️⃣ Substitution</h3>
      <p>CH₄ + Cl₂ → CH₃Cl + HCl  (UV light)</p>
    </div>
  </div>
</section>

<!-- 6️⃣ PROPERTIES & USES -->
<section id="props" class="section">
  <h2>🧪 Properties & Uses</h2>
  <div class="flex">
    <div>
      <strong>Properties</strong>
      <ul>
        <li>Non-polar → insoluble in water</li>
        <li>Boiling point ↑ with chain length</li>
        <li>Combustion → CO₂ + H₂O</li>
      </ul>
    </div>
    <div>
      <strong>Uses</strong>
      <ul>
        <li>Cooking gas: propane, butane</li>
        <li>Petrol: octane</li>
        <li>Paraffin wax</li>
      </ul>
    </div>
  </div>
</section>

<!-- 7️⃣ LIVE SKETCHER -->
<section id="draw" class="section">
  <h2>🎨 Live Sketcher (Drag Bonds)</h2>
  <p>Drag atoms • drag from one atom to another to create / cycle bonds.</p>
  <p><strong>Hold <kbd>Shift</kbd></strong> while dragging to cycle: single → double → triple → none.</p>
  <canvas id="canvas" width="520" height="300"></canvas>
  <br>
  <button onclick="addAtom('C')">Add C</button>
  <button onclick="addAtom('H')">Add H</button>
  <button onclick="eraseLast()">Erase Last</button>
  <button onclick="resetCanvas()">Reset All</button>
  <button onclick="checkButane()">Check Butane</button>
  <p id="simMsg"></p>
</section>

<!-- 8️⃣ MINI QUIZ (submit + next) -->
<section id="quiz" class="section">
  <h2>📝 Mini Quiz (10 Questions)</h2>
  <div id="quizContainer"></div>
</section>

<script>
/* ---------- smooth scroll nav ---------- */
document.querySelectorAll('nav a').forEach(link=>{
  link.addEventListener('click',e=>{
    e.preventDefault();
    document.querySelector(link.hash).scrollIntoView({behavior:'smooth'});
  });
});

/* ---------- 10-question quiz with submit & next ---------- */
const quizData=[
  {q:'What is the general formula for alkanes?',a:0,opts:['C<sub>n</sub>H<sub>2n+2</sub>','C<sub>n</sub>H<sub>2n</sub>','C<sub>n</sub>H<sub>2n-2</sub>','C<sub>n</sub>H<sub>n</sub>']},
  {q:'Which of these is NOT an alkane?',a:2,opts:['Methane','Ethane','Propene','Butane']},
  {q:'Alkanes are called saturated hydrocarbons because:',a:1,opts:['They have double bonds','They contain maximum hydrogen','They contain oxygen','They are soluble in water']},
  {q:'Which alkane has the highest boiling point?',a:2,opts:['Methane','Butane','Pentane','Ethane']},
  {q:'Which of these is a property of alkanes?',a:2,opts:['Soluble in water','Form acidic solutions','Non-polar','React easily with acids']},
  {q:'Which statement about combustion of alkanes is true?',a:1,opts:['They produce only carbon monoxide','Complete combustion produces carbon dioxide and water','They don’t react with oxygen','They only burn with UV light']},
  {q:'Which alkane is used as cooking gas?',a:1,opts:['Methane','Butane','Octane','Ethene']},
  {q:'Which condition is needed for substitution reaction of methane with chlorine?',a:2,opts:['High pressure','High temperature only','UV light','Acid catalyst']},
  {q:'Which gas indicates incomplete combustion?',a:2,opts:['CO₂','O₂','CO','H₂']},
  {q:'Which pair is correct for a substitution reaction product?',a:0,opts:['CH₄ + Cl₂ → CH₃Cl + HCl','C₂H₆ + O₂ → CO₂ + H₂O','CH₄ + Br₂ → CO + Br₂','CH₄ + H₂O → C₂H₆ + CO₂']}
];

let currentQ=0, score=0, mistakes=[], selectedIndex=null;
const quizContainer=document.getElementById('quizContainer');

function buildQuiz(){
  if(currentQ>=quizData.length){
    showReview();
    return;
  }
  selectedIndex=null;
  const q=quizData[currentQ];
  quizContainer.innerHTML=`
    <p><strong>${currentQ+1}. ${q.q}</strong></p>
    ${q.opts.map((opt,i)=>`<button class="opt" onclick="select(${i})">${opt}</button>`).join('')}
    <p id="quizMsgQ"></p>
    <button id="submitBtn" onclick="submit()">Submit</button>
    <button id="nextBtn" onclick="next()" disabled>Next Question</button>
  `;
}

function select(idx){
  selectedIndex=idx;
  document.querySelectorAll('.opt').forEach((b,i)=>b.classList.toggle('selected',i===idx));
  document.getElementById('submitBtn').disabled=false;
}

function submit(){
  const q=quizData[currentQ];
  const msg=document.getElementById('quizMsgQ');
  document.querySelectorAll('.opt').forEach(b=>b.disabled=true);
  if(selectedIndex===q.a){
    score++;
    msg.innerHTML='✅ Correct!';
  }else{
    mistakes.push({...q,selected:selectedIndex});
    msg.innerHTML=`❌ The correct answer is <strong>${q.opts[q.a]}</strong>.`;
  }
  document.getElementById('submitBtn').disabled=true;
  document.getElementById('nextBtn').disabled=false;
}

function next(){
  currentQ++;
  buildQuiz();
}

function showReview(){
  if(mistakes.length===0){
    quizContainer.innerHTML=`<p>🎉 Perfect! You scored ${score}/10.</p>`;
    return;
  }
  let html=`<p>📝 You scored ${score}/10. Review your mistakes below.</p>`;
  mistakes.forEach(m=>{
    html+=`<div style="margin:1rem 0">
        <strong>${m.q}</strong><br>
        <span style="color:red">Your answer: ${m.opts[m.selected]}</span><br>
        <span style="color:green">Correct: ${m.opts[m.a]}</span>
      </div>`;
  });
  quizContainer.innerHTML=html;
}

buildQuiz();

/* ---------- live sketcher ---------- */
const cv=document.getElementById('canvas'),ctx=cv.getContext('2d');
let atoms=[],bonds=[],dragAtom=null,dragBond=null;
const radius={C:15,H:10};

function addAtom(type){
  atoms.push({type,x:50+Math.random()*380,y:50+Math.random()*200});
  draw();
}
function eraseLast(){
  if(atoms.length===0)return;
  const last=atoms.length-1;
  bonds=bonds.filter(b=>b.a!==last && b.b!==last).map(b=>({a:b.a>last?b.a-1:b.a,b:b.b>last?b.b-1:b.b,order:b.order}));
  atoms.pop();
  draw();
}
function resetCanvas(){
  atoms=[];bonds=[];draw();
  document.getElementById('simMsg').textContent='';
}
function draw(){
  ctx.clearRect(0,0,cv.width,cv.height);
  bonds.forEach(b=>{
    const [x1,y1]=[atoms[b.a].x,atoms[b.a].y];
    const [x2,y2]=[atoms[b.b].x,atoms[b.b].y];
    const dx=x2-x1,dy=y2-y1,ang=Math.atan2(dy,dx);
    const off=4;
    ctx.strokeStyle='#000';
    ctx.lineWidth=2;
    for(let i=0;i<b.order;i++){
      const ox=Math.sin(ang)*(i-(b.order-1)/2)*off;
      const oy=-Math.cos(ang)*(i-(b.order-1)/2)*off;
      ctx.beginPath();
      ctx.moveTo(x1+ox,y1+oy);
      ctx.lineTo(x2+ox,y2+oy);
      ctx.stroke();
    }
  });
  atoms.forEach((a,i)=>{
    ctx.beginPath();
    ctx.arc(a.x,a.y,radius[a.type],0,2*Math.PI);
    ctx.fillStyle=a.type==='C'?'#444':'#0078ff';
    ctx.fill();
    ctx.fillStyle='#fff';
    ctx.textAlign='center';
    ctx.fillText(a.type,a.x,a.y+4);
  });
}
function checkButane(){
  const c=atoms.filter(a=>a.type==='C').length;
  const h=atoms.filter(a=>a.type==='H').length;
  let singleEdges=0;
  bonds.forEach(b=>{singleEdges+=b.order});
  const msg=document.getElementById('simMsg');
  if(c===4 && h===10 && singleEdges===13){
    msg.textContent='✅ Perfect! You built butane (C₄H₁₀).';
    msg.style.color='green';
  }else{
    msg.textContent=`❌ You have ${c} C, ${h} H, ${singleEdges} single-equivalent bonds – need 4 C, 10 H, 13 bonds.`;
    msg.style.color='crimson';
  }
}
cv.onmousedown=e=>{
  const rect=cv.getBoundingClientRect(),x=e.clientX-rect.left,y=e.clientY-rect.top;
  const hit=atoms.findIndex(a=>(x-a.x)**2+(y-a.y)**2<radius[a.type]**2);
  if(hit>=0){
    if(e.shiftKey){dragBond={start:hit};}else{dragAtom={idx:hit,x,y};}
  }
};
cv.onmousemove=e=>{
  if(dragAtom){
    const rect=cv.getBoundingClientRect();
    atoms[dragAtom.idx].x=e.clientX-rect.left;
    atoms[dragAtom.idx].y=e.clientY-rect.top;
    draw();
  }
};
cv.onmouseup=e=>{
  if(dragBond){
    const rect=cv.getBoundingClientRect(),x=e.clientX-rect.left,y=e.clientY-rect.top;
    const end=atoms.findIndex(a=>(x-a.x)**2+(y-a.y)**2<radius[a.type]**2);
    if(end>=0 && end!==dragBond.start){
      const b=bonds.find(b=>(b.a===dragBond.start&&b.b===end)||(b.a===end&&b.b===dragBond.start));
      if(b){b.order=(b.order+1)%4;if(b.order===0) bonds.splice(bonds.indexOf(b),1);}
      else bonds.push({a:dragBond.start,b:end,order:1});
    }
    dragBond=null;
  }
  dragAtom=null;
  draw();
};
resetCanvas();
</script>
</body>
</html>
