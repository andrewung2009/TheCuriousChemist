<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chemistry Quest - Group 1 Alkali Metals Adventure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* Text Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideIn {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @keyframes glow {
            0%, 100% { text-shadow: 0 0 5px rgba(79, 70, 229, 0.7); }
            50% { text-shadow: 0 0 20px rgba(79, 70, 229, 0.9), 0 0 30px rgba(79, 70, 229, 0.7); }
        }
        
        @keyframes typewriter {
            from { width: 0; }
            to { width: 100%; }
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes highlight {
            0% { background-color: rgba(79, 70, 229, 0.2); }
            50% { background-color: rgba(79, 70, 229, 0.4); }
            100% { background-color: rgba(79, 70, 229, 0.2); }
        }
        
        @keyframes textReveal {
            0% { 
                opacity: 0;
                transform: translateY(30px) scale(0.9);
                filter: blur(10px);
            }
            100% { 
                opacity: 1;
                transform: translateY(0) scale(1);
                filter: blur(0);
            }
        }
        
        @keyframes slideUp {
            0% { 
                opacity: 0;
                transform: translateY(50px);
            }
            100% { 
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes letterPop {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        
        @keyframes colorShift {
            0% { color: #4f46e5; }
            25% { color: #7c3aed; }
            50% { color: #ec4899; }
            75% { color: #8b5cf6; }
            100% { color: #4f46e5; }
        }
        
        @keyframes confetti {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(300px) rotate(720deg); opacity: 0; }
        }
        
        @keyframes celebration {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .fade-in {
            animation: fadeIn 0.6s ease-out forwards;
        }
        
        .slide-in {
            animation: slideIn 0.5s ease-out forwards;
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        .glow-text {
            animation: glow 2s infinite;
            font-weight: 700;
            color: #4f46e5;
        }
        
        .typewriter {
            overflow: hidden;
            white-space: nowrap;
            animation: typewriter 3s steps(40) 1s 1 normal both;
        }
        
        .bounce-text {
            display: inline-block;
            animation: bounce 1s ease infinite;
        }
        
        .highlight-text {
            background: linear-gradient(120deg, rgba(79, 70, 229, 0.2) 0%, rgba(79, 70, 229, 0.4) 100%);
            padding: 0 5px;
            border-radius: 4px;
            font-weight: 600;
            animation: highlight 3s infinite;
        }
        
        .text-reveal {
            animation: textReveal 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
            opacity: 0;
        }
        
        .slide-up {
            animation: slideUp 0.7s ease-out forwards;
            opacity: 0;
        }
        
        .letter-pop {
            display: inline-block;
            animation: letterPop 0.5s ease forwards;
            opacity: 0;
        }
        
        .color-shift {
            animation: colorShift 5s ease infinite;
        }
        
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: #f0f;
            animation: confetti 3s ease-out forwards;
            z-index: 9999;
        }
        
        .celebrate {
            animation: celebration 0.5s ease-out;
        }
        
        /* Animation Delays */
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        .delay-400 { animation-delay: 0.4s; }
        .delay-500 { animation-delay: 0.5s; }
        .delay-600 { animation-delay: 0.6s; }
        .delay-700 { animation-delay: 0.7s; }
        .delay-800 { animation-delay: 0.8s; }
        .delay-900 { animation-delay: 0.9s; }
        .delay-1000 { animation-delay: 1s; }
        .delay-1200 { animation-delay: 1.2s; }
        .delay-1500 { animation-delay: 1.5s; }
        
        /* Sidebar Styles */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 260px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
            z-index: 100;
            overflow-y: auto;
            transition: transform 0.3s ease;
        }
        
        .sidebar-header {
            padding: 1.5rem;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .sidebar-nav {
            padding: 1rem 0;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            padding: 0.75rem 1.5rem;
            color: #4b5563;
            text-decoration: none;
            transition: all 0.2s ease;
            border-left: 3px solid transparent;
        }
        
        .nav-item:hover {
            background: rgba(79, 70, 229, 0.1);
            color: #4f46e5;
            border-left-color: #4f46e5;
        }
        
        .nav-item.active {
            background: rgba(79, 70, 229, 0.1);
            color: #4f46e5;
            border-left-color: #4f46e5;
            font-weight: 600;
        }
        
        .nav-item i {
            margin-right: 0.75rem;
            width: 20px;
            text-align: center;
        }
        
        .sidebar-footer {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 1rem 1.5rem;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .main-content {
            margin-left: 260px;
            padding: 2rem;
            min-height: 100vh;
        }
        
        .menu-toggle {
            display: none;
            position: fixed;
            top: 1rem;
            left: 1rem;
            z-index: 101;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 0.5rem;
            padding: 0.5rem;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        /* Learning Path Styles - More Adventure-like */
        .learning-path {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 2rem 0;
            position: relative;
        }
        
        .learning-path::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, #f59e0b, #ef4444, #8b5cf6, #10b981);
            background-size: 200% 100%;
            animation: gradientShift 3s ease infinite;
            z-index: 0;
            border-radius: 3px;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .path-step {
            background: white;
            border-radius: 50%;
            width: 70px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 1;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
            border: 3px solid white;
        }
        
        .path-step.active {
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            color: white;
            transform: scale(1.15);
            box-shadow: 0 0 20px rgba(79, 70, 229, 0.5);
        }
        
        .path-step.completed {
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
            box-shadow: 0 0 15px rgba(16, 185, 129, 0.4);
        }
        
        .path-step.locked {
            background: #9ca3af;
            color: white;
        }
        
        .path-label {
            position: absolute;
            bottom: -35px;
            white-space: nowrap;
            font-size: 0.875rem;
            font-weight: 600;
            color: white;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        
        /* Content Cards - More playful */
        .content-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 1.2rem;
            padding: 1.8rem;
            margin-bottom: 1.8rem;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
            transition: all 0.4s ease;
            border-left: 6px solid #4f46e5;
            position: relative;
            overflow: hidden;
        }
        
        .content-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, transparent 50%, rgba(79, 70, 229, 0.1) 50%);
            border-radius: 0 0 0 100%;
        }
        
        .content-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }
        
        .content-card.locked {
            opacity: 0.7;
            filter: grayscale(100%);
            cursor: not-allowed;
        }
        
        .content-card.locked:hover {
            transform: none;
        }
        
        /* Element Cards - More exciting */
        .element-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.8rem;
            margin: 2rem 0;
        }
        
        .element-card {
            background: white;
            border-radius: 1.2rem;
            padding: 1.8rem;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        
        .element-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, #4f46e5, #7c3aed, #ec4899);
        }
        
        .element-card:hover {
            transform: translateY(-8px) scale(1.03);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }
        
        .element-image {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            margin: 0 auto 1rem;
            object-fit: cover;
            border: 4px solid #e5e7eb;
            transition: all 0.3s ease;
        }
        
        .element-card:hover .element-image {
            border-color: #4f46e5;
            transform: scale(1.1);
        }
        
        /* Tab Styles - More colorful */
        .tabs {
            display: flex;
            border-bottom: 3px solid #e5e7eb;
            margin-bottom: 1.8rem;
        }
        
        .tab {
            padding: 0.85rem 1.8rem;
            cursor: pointer;
            background: none;
            border: none;
            font-weight: 600;
            color: #6b7280;
            transition: all 0.3s ease;
            position: relative;
            font-size: 1rem;
        }
        
        .tab::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #4f46e5, #7c3aed);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }
        
        .tab:hover {
            color: #4f46e5;
            background: rgba(79, 70, 229, 0.05);
        }
        
        .tab.active {
            color: #4f46e5;
        }
        
        .tab.active::after {
            transform: scaleX(1);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }
        
        /* Quiz Styles - More engaging */
        .quiz-option {
            padding: 1.2rem;
            border: 2px solid #e5e7eb;
            border-radius: 0.8rem;
            margin: 0.85rem 0;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
            display: flex;
            align-items: center;
            font-size: 1rem;
        }
        
        .quiz-option:hover {
            border-color: #4f46e5;
            background: #f3f4f6;
            transform: translateX(5px);
        }
        
        .quiz-option.selected {
            border-color: #4f46e5;
            background: #eef2ff;
        }
        
        .quiz-option.correct {
            border-color: #10b981;
            background: #d1fae5;
            animation: celebration 0.5s ease-out;
        }
        
        .quiz-option.incorrect {
            border-color: #ef4444;
            background: #fee2e2;
            animation: shake 0.5s ease-out;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        
        .quiz-option input {
            margin-right: 0.85rem;
            transform: scale(1.2);
        }
        
        .quiz-option label {
            cursor: pointer;
            flex: 1;
        }
        
        /* Progress Bar - More exciting */
        .progress-bar {
            width: 100%;
            height: 12px;
            background: #e5e7eb;
            border-radius: 6px;
            overflow: hidden;
            margin: 1.2rem 0;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4f46e5, #7c3aed, #ec4899);
            background-size: 200% 100%;
            animation: gradientShift 2s ease infinite, progressAnimation 1s ease-out;
            border-radius: 6px;
            box-shadow: 0 0 10px rgba(79, 70, 229, 0.3);
        }
        
        @keyframes progressAnimation {
            from { width: 0; }
        }
        
        /* Modal Styles - More engaging */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            backdrop-filter: blur(4px);
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: white;
            border-radius: 1.5rem;
            padding: 2.5rem;
            max-width: 650px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.3);
            position: relative;
        }
        
        /* Button Styles - More exciting */
        .btn {
            padding: 0.85rem 1.8rem;
            border-radius: 0.6rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.6rem;
            font-size: 1rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(79, 70, 229, 0.4);
        }
        
        .btn-secondary {
            background: #f3f4f6;
            color: #4b5563;
        }
        
        .btn-secondary:hover {
            background: #e5e7eb;
            transform: translateY(-2px);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #ef4444, #f87171);
            color: white;
        }
        
        /* Lock Overlay - More playful */
        .lock-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 1rem;
            color: white;
            font-size: 3rem;
        }
        
        /* Toast Notification - More exciting */
        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: white;
            padding: 1.2rem;
            border-radius: 0.8rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            z-index: 2000;
            display: flex;
            align-items: center;
            transform: translateX(500px);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            max-width: 350px;
        }
        
        .toast.show {
            transform: translateX(0);
        }
        
        .toast-icon {
            margin-right: 1rem;
            font-size: 1.5rem;
        }
        
        .toast.success .toast-icon {
            color: #10b981;
        }
        
        .toast.error .toast-icon {
            color: #ef4444;
        }
        
        .toast.info .toast-icon {
            color: #3b82f6;
        }
        
        .toast.celebration {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border-left: 5px solid #0ea5e9;
        }
        
        /* Loading Spinner - More fun */
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #4f46e5;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Landing Page Styles - More exciting */
        .landing-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }
        
        .landing-card {
            background: white;
            border-radius: 2.5rem;
            padding: 3.5rem;
            max-width: 850px;
            width: 100%;
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.25);
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .landing-card::before {
            content: '';
            position: absolute;
            top: -150px;
            right: -150px;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(79, 70, 229, 0.1) 0%, rgba(79, 70, 229, 0) 70%);
            border-radius: 50%;
        }
        
        .landing-icon {
            font-size: 5rem;
            color: #4f46e5;
            margin-bottom: 1.5rem;
            animation: pulse 2s infinite;
        }
        
        .landing-title {
            font-size: 2.8rem;
            font-weight: 800;
            color: #1f2937;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .landing-subtitle {
            font-size: 1.4rem;
            color: #6b7280;
            margin-bottom: 2.5rem;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 2rem;
            margin: 2.5rem 0;
        }
        
        .feature-card {
            padding: 2rem;
            border-radius: 1.2rem;
            background: #f9fafb;
            text-align: center;
            transition: all 0.4s ease;
            border: 2px solid transparent;
        }
        
        .feature-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
            border-color: rgba(79, 70, 229, 0.2);
        }
        
        .feature-icon {
            font-size: 2.5rem;
            color: #4f46e5;
            margin-bottom: 0.8rem;
            animation: bounce 2s infinite;
        }
        
        /* Pre-Quiz Introduction Styles - More exciting */
        .prequiz-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }
        
        .prequiz-card {
            background: white;
            border-radius: 2.5rem;
            padding: 3.5rem;
            max-width: 850px;
            width: 100%;
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.25);
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .prequiz-card::before {
            content: '';
            position: absolute;
            top: -150px;
            right: -150px;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(79, 70, 229, 0.1) 0%, rgba(79, 70, 229, 0) 70%);
            border-radius: 50%;
        }
        
        .prequiz-icon {
            font-size: 5rem;
            color: #4f46e5;
            margin-bottom: 1.5rem;
            animation: pulse 2s infinite;
        }
        
        .prequiz-title {
            font-size: 2.8rem;
            font-weight: 800;
            color: #1f2937;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .prequiz-subtitle {
            font-size: 1.4rem;
            color: #6b7280;
            margin-bottom: 2.5rem;
        }
        
        .support-message {
            background: linear-gradient(135deg, #eff6ff, #dbeafe);
            border-left: 5px solid #3b82f6;
            padding: 1.5rem;
            border-radius: 0.8rem;
            margin: 2.5rem 0;
            text-align: left;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.1);
        }
        
        .support-message h3 {
            font-size: 1.4rem;
            font-weight: 700;
            color: #1e40af;
            margin-bottom: 0.8rem;
        }
        
        .support-message p {
            color: #1e3a8a;
            line-height: 1.7;
            font-size: 1.1rem;
        }
        
        /* Study Group Styles - More exciting */
        .study-group-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 1.2rem;
            padding: 1.8rem;
            margin-bottom: 1.2rem;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
            transition: all 0.4s ease;
            border-left: 5px solid #4f46e5;
        }
        
        .study-group-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.18);
        }
        
        .member-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 0.85rem;
            margin-right: -12px;
            border: 3px solid white;
            transition: all 0.3s ease;
        }
        
        .member-avatar:hover {
            transform: scale(1.2);
            z-index: 10;
        }
        
        /* Comment Styles - More exciting */
        .comment-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 1.2rem;
            padding: 1.8rem;
            margin-top: 2.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .comment {
            background: #f9fafb;
            border-radius: 0.9rem;
            padding: 1.2rem;
            margin-bottom: 1.2rem;
            border-left: 5px solid #4f46e5;
            transition: all 0.3s ease;
        }
        
        .comment:hover {
            transform: translateX(8px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
        }
        
        .comment-author {
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 0.4rem;
            font-size: 1.1rem;
        }
        
        .comment-text {
            color: #4b5563;
            font-size: 1rem;
            line-height: 1.6;
        }
        
        .comment-form {
            display: flex;
            margin-top: 1.5rem;
            gap: 0.8rem;
        }
        
        .comment-input {
            flex: 1;
            padding: 0.9rem;
            border: 2px solid #d1d5db;
            border-radius: 0.6rem;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .comment-input:focus {
            outline: none;
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.2);
        }
        
        .comment-submit {
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            color: white;
            border: none;
            padding: 0.9rem 1.8rem;
            border-radius: 0.6rem;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 1rem;
        }
        
        .comment-submit:hover {
            background: linear-gradient(135deg, #4338ca, #6366f1);
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(79, 70, 229, 0.3);
        }
        
        /* Highlight Box - More exciting */
        .highlight-box {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border-left: 5px solid #0ea5e9;
            padding: 1.5rem;
            border-radius: 0.8rem;
            margin: 1.5rem 0;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(14, 165, 233, 0.1);
        }
        
        .highlight-box:hover {
            transform: translateX(8px);
            box-shadow: 0 8px 20px rgba(14, 165, 233, 0.15);
        }
        
        .highlight-box h4 {
            color: #0c4a6e;
            font-weight: 700;
            margin-bottom: 0.6rem;
            font-size: 1.2rem;
        }
        
        .highlight-box p {
            color: #075985;
            font-size: 1rem;
            line-height: 1.6;
        }
        
        /* Equation Box - More exciting */
        .equation-box {
            background: linear-gradient(135deg, #f8fafc, #f1f5f9);
            border: 2px solid #e2e8f0;
            border-radius: 0.8rem;
            padding: 1.5rem;
            margin: 1.5rem 0;
            text-align: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }
        
        .equation-box:hover {
            transform: scale(1.03);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }
        
        .equation-box .equation {
            font-family: 'Courier New', monospace;
            font-size: 1.2rem;
            font-weight: 700;
            color: #1e293b;
            margin: 0.6rem 0;
        }
        
        /* Key Point Box - More exciting */
        .key-point {
            background: linear-gradient(135deg, #fffbeb, #fef3c7);
            border-left: 5px solid #f59e0b;
            padding: 1.5rem;
            border-radius: 0.8rem;
            margin: 1.5rem 0;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.1);
        }
        
        .key-point:hover {
            transform: translateX(8px);
            box-shadow: 0 8px 20px rgba(245, 158, 11, 0.15);
        }
        
        .key-point h4 {
            color: #92400e;
            font-weight: 700;
            margin-bottom: 0.6rem;
            font-size: 1.2rem;
        }
        
        .key-point p {
            color: #78350f;
            font-size: 1rem;
            line-height: 1.6;
        }
        
        /* Comparison Table - More exciting */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            background: white;
            border-radius: 0.8rem;
            overflow: hidden;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
        }
        
        .comparison-table th {
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            color: white;
            padding: 1rem;
            text-align: left;
            font-weight: 700;
            font-size: 1.1rem;
        }
        
        .comparison-table td {
            padding: 1rem;
            border-bottom: 1px solid #e5e7eb;
            font-size: 1rem;
        }
        
        .comparison-table tr:last-child td {
            border-bottom: none;
        }
        
        .comparison-table tr:nth-child(even) {
            background: #f9fafb;
        }
        
        .comparison-table tr:hover {
            background: #eef2ff;
            transform: scale(1.01);
            transition: all 0.2s ease;
        }
        
        /* Fun Fact Box - New addition */
        .fun-fact-box {
            background: linear-gradient(135deg, #fdf4ff, #fae8ff);
            border-left: 5px solid #a855f7;
            padding: 1.5rem;
            border-radius: 0.8rem;
            margin: 1.5rem 0;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(168, 85, 247, 0.1);
        }
        
        .fun-fact-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(168, 85, 247, 0.15);
        }
        
        .fun-fact-box h4 {
            color: #6b21a8;
            font-weight: 700;
            margin-bottom: 0.6rem;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
        }
        
        .fun-fact-box h4 i {
            margin-right: 0.5rem;
            color: #a855f7;
        }
        
        .fun-fact-box p {
            color: #7e22ce;
            font-size: 1rem;
            line-height: 1.6;
        }
        
        /* Achievement Badge - New addition */
        .achievement-badge {
            display: inline-flex;
            align-items: center;
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            color: #92400e;
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            font-weight: 600;
            font-size: 0.9rem;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
            box-shadow: 0 4px 10px rgba(245, 158, 11, 0.2);
        }
        
        .achievement-badge i {
            margin-right: 0.4rem;
        }
        
        /* Motivational Quote - New addition */
        .motivational-quote {
            font-style: italic;
            color: #6b7280;
            text-align: center;
            margin: 1.5rem 0;
            font-size: 1.1rem;
            padding: 1rem;
            border-radius: 0.8rem;
            background: rgba(243, 244, 246, 0.5);
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }
            
            .sidebar.active {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .menu-toggle {
                display: block;
            }
            
            .landing-title, .prequiz-title {
                font-size: 2.2rem;
            }
            
            .feature-grid {
                grid-template-columns: 1fr;
            }
            
            .element-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }
            
            .learning-path {
                flex-direction: column;
                gap: 2.5rem;
            }
            
            .learning-path::before {
                width: 6px;
                height: 100%;
                top: 0;
                left: 50%;
                right: auto;
                transform: translateX(-50%);
            }
            
            .comparison-table {
                font-size: 0.9rem;
            }
            
            .comparison-table th, .comparison-table td {
                padding: 0.6rem;
            }
            
            .matching-container {
                flex-direction: column;
                gap: 1.2rem;
            }
            
            .drag-items-container,
            .drop-targets-container {
                justify-content: center;
            }
            
            .blank-input {
                width: 100px;
            }
        }
        
        /* Auth Modal Styles */
        .auth-tabs {
            display: flex;
            border-bottom: 3px solid #e5e7eb;
            margin-bottom: 1.8rem;
        }
        
        .auth-tab {
            flex: 1;
            padding: 0.9rem;
            text-align: center;
            cursor: pointer;
            font-weight: 600;
            color: #6b7280;
            transition: all 0.3s ease;
            position: relative;
            font-size: 1.1rem;
        }
        
        .auth-tab::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #4f46e5, #7c3aed);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }
        
        .auth-tab:hover {
            color: #4f46e5;
            background: rgba(79, 70, 229, 0.05);
        }
        
        .auth-tab.active {
            color: #4f46e5;
        }
        
        .auth-tab.active::after {
            transform: scaleX(1);
        }
        
        .auth-content {
            display: none;
        }
        
        .auth-content.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.8rem;
        }
        
        .modal-title {
            font-size: 1.8rem;
            font-weight: 800;
            color: #1f2937;
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #6b7280;
            cursor: pointer;
            transition: all 0.2s;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .close-btn:hover {
            color: #1f2937;
            background: #f3f4f6;
        }
    </style>
</head>
<body>
    <!-- Landing Page (shown when user hasn't signed in) -->
    <div id="landingPage" class="landing-container">
        <div class="landing-card">
            <div class="landing-icon text-reveal delay-100">
                <i class="fas fa-atom"></i>
            </div>
            <h1 class="landing-title text-reveal delay-300">
                <span class="letter-pop delay-300">C</span>
                <span class="letter-pop delay-320">h</span>
                <span class="letter-pop delay-340">e</span>
                <span class="letter-pop delay-360">m</span>
                <span class="letter-pop delay-380">i</span>
                <span class="letter-pop delay-400">s</span>
                <span class="letter-pop delay-420">t</span>
                <span class="letter-pop delay-440">r</span>
                <span class="letter-pop delay-460">y</span>
                <span class="letter-pop delay-480"> </span>
                <span class="letter-pop delay-500">Q</span>
                <span class="letter-pop delay-520">u</span>
                <span class="letter-pop delay-540">e</span>
                <span class="letter-pop delay-560">s</span>
                <span class="letter-pop delay-580">t</span>
            </h1>
            <p class="landing-subtitle text-reveal delay-700">
                Embark on an exciting adventure to master <strong class="color-shift">Group 1 Alkali Metals</strong>
            </p>
            
            <div class="feature-grid">
                <div class="feature-card slide-up delay-800">
                    <div class="feature-icon">
                        <i class="fas fa-clipboard-check"></i>
                    </div>
                    <h3 class="font-semibold">Challenge</h3>
                    <p class="text-sm text-gray-600">Test your <strong>chemistry skills</strong> in our fun quiz</p>
                </div>
                <div class="feature-card slide-up delay-900">
                    <div class="feature-icon">
                        <i class="fas fa-book-open"></i>
                    </div>
                    <h3 class="font-semibold">Explore</h3>
                    <p class="text-sm text-gray-600">Discover <strong>amazing elements</strong> through interactive content</p>
                </div>
                <div class="feature-card slide-up delay-1000">
                    <div class="feature-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3 class="font-semibold">Connect</h3>
                    <p class="text-sm text-gray-600">Join <strong>study teams</strong> and learn together</p>
                </div>
            </div>
            
            <div class="mt-8">
                <p class="text-lg font-semibold text-gray-700 mb-4 text-reveal delay-1100">Your Chemistry Adventure</p>
                <div class="learning-path slide-up delay-1200">
                    <div class="path-step active">
                        <i class="fas fa-play"></i>
                        <span class="path-label">Start Quiz</span>
                    </div>
                    <div class="path-step locked">
                        <i class="fas fa-lock"></i>
                        <span class="path-label">Learn</span>
                    </div>
                    <div class="path-step locked">
                        <i class="fas fa-trophy"></i>
                        <span class="path-label">Master</span>
                    </div>
                </div>
            </div>
            
            <div class="mt-10 space-y-4">
                <button onclick="showLoginModal()" class="btn btn-primary w-full slide-up delay-1300">
                    <i class="fas fa-sign-in-alt"></i>
                    Begin Your Adventure
                </button>
                <button onclick="signInWithGoogle()" class="btn btn-secondary w-full slide-up delay-1500">
                    <i class="fab fa-google"></i>
                    Join with Google
                </button>
            </div>
            
            <div class="motivational-quote slide-up delay-1700">
                "Chemistry is the melodies you can play on vibrating strings of matter." - Michio Kaku
            </div>
        </div>
    </div>
    
    <!-- Pre-Quiz Introduction Page (shown after sign-in) -->
    <div id="prequizPage" class="prequiz-container" style="display: none;">
        <div class="prequiz-card">
            <div class="prequiz-icon text-reveal delay-100">
                <i class="fas fa-flask"></i>
            </div>
            <h1 class="prequiz-title text-reveal delay-300">
                <span class="letter-pop delay-300">C</span>
                <span class="letter-pop delay-320">h</span>
                <span class="letter-pop delay-340">e</span>
                <span class="letter-pop delay-360">m</span>
                <span class="letter-pop delay-380">i</span>
                <span class="letter-pop delay-400">s</span>
                <span class="letter-pop delay-420">t</span>
                <span class="letter-pop delay-440">r</span>
                <span class="letter-pop delay-460">y</span>
                <span class="letter-pop delay-480"> </span>
                <span class="letter-pop delay-500">C</span>
                <span class="letter-pop delay-520">h</span>
                <span class="letter-pop delay-540">a</span>
                <span class="letter-pop delay-560">l</span>
                <span class="letter-pop delay-580">l</span>
                <span class="letter-pop delay-600">e</span>
                <span class="letter-pop delay-620">n</span>
                <span class="letter-pop delay-640">g</span>
                <span class="letter-pop delay-660">e</span>
            </h1>
            <p class="prequiz-subtitle text-reveal delay-700">
                Ready to discover the <strong class="color-shift">amazing world of Group 1 elements</strong>?
            </p>
            
            <div class="support-message slide-up delay-800">
                <h3><i class="fas fa-lightbulb mr-2"></i>Adventure Awaits!</h3>
                <p>This fun quiz helps us understand your <strong>current chemistry superpowers</strong>. Don't worry if you don't know all the answers - this is just the <strong>beginning of your journey</strong>! Take your time, read each question carefully, and do your best. Your results will help us <strong>create your personalized learning adventure</strong>.</p>
            </div>
            
            <div class="bg-blue-50 p-5 rounded-lg mb-6 slide-up delay-900">
                <div class="flex items-center mb-3">
                    <i class="fas fa-info-circle text-blue-500 mr-3 text-2xl"></i>
                    <h3 class="font-semibold text-blue-800 text-xl">Quiz Details</h3>
                </div>
                <ul class="text-left text-blue-700 space-y-2 text-lg">
                    <li class="flex items-start">
                        <i class="fas fa-star text-yellow-400 mt-1 mr-2"></i>
                        <span><strong>7 exciting questions</strong> to test your knowledge</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fas fa-clock text-green-400 mt-1 mr-2"></i>
                        <span><strong>No time limit</strong> - learn at your own pace</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fas fa-magic text-purple-400 mt-1 mr-2"></i>
                        <span><strong>Instant feedback</strong> to help you learn</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fas fa-trophy text-yellow-500 mt-1 mr-2"></i>
                        <span><strong>Points earned</strong> for your achievements</span>
                    </li>
                </ul>
            </div>
            
            <div class="fun-fact-box slide-up delay-1000">
                <h4><i class="fas fa-atom mr-2"></i>Fun Fact</h4>
                <p>Group 1 elements are called "alkali metals" because they react with water to form alkaline (basic) solutions. The word "alkali" comes from Arabic "al-qaly" meaning "ashes of the saltwort plant"!</p>
            </div>
            
            <div class="mt-10">
                <button onclick="startPreQuiz()" class="btn btn-primary w-full slide-up delay-1100">
                    <i class="fas fa-play mr-2"></i>
                    Start Chemistry Challenge
                </button>
            </div>
        </div>
    </div>
    
    <!-- Main App (shown after pre-quiz completion) -->
    <div id="mainApp" style="display: none;">
        <!-- Menu Toggle Button (Mobile) -->
        <button class="menu-toggle" onclick="toggleSidebar()">
            <i class="fas fa-bars"></i>
        </button>
        
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="flex items-center">
                    <i class="fas fa-atom text-indigo-600 text-3xl mr-3"></i>
                    <div>
                        <h1 class="text-xl font-bold text-gray-800">Chemistry Quest</h1>
                        <p class="text-sm text-gray-600">Group 1 Adventure</p>
                    </div>
                </div>
            </div>
            
            <div class="sidebar-nav">
                <a href="#" class="nav-item active" onclick="navigateToSection('overview')">
                    <i class="fas fa-home"></i>
                    <span>Adventure Map</span>
                </a>
                <a href="#" class="nav-item" onclick="navigateToSection('elements')">
                    <i class="fas fa-th"></i>
                    <span>Element Heroes</span>
                </a>
                <a href="#" class="nav-item" onclick="navigateToSection('properties')">
                    <i class="fas fa-flask"></i>
                    <span>Super Powers</span>
                </a>
                <a href="#" class="nav-item" onclick="navigateToSection('reactions')">
                    <i class="fas fa-vial"></i>
                    <span>Chemical Battles</span>
                </a>
                <a href="#" class="nav-item" onclick="navigateToSection('study-groups')">
                    <i class="fas fa-users"></i>
                    <span>Study Teams</span>
                </a>
                <a href="#" class="nav-item" onclick="navigateToSection('discussion')">
                    <i class="fas fa-comments"></i>
                    <span>Discussion Hub</span>
                </a>
                <a href="#" class="nav-item" onclick="navigateToSection('quiz')">
                    <i class="fas fa-graduation-cap"></i>
                    <span>Final Challenge</span>
                </a>
            </div>
            
            <div class="sidebar-footer">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center">
                        <div class="bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-full p-2 mr-2 shadow-md">
                            <i class="fas fa-coins text-white"></i>
                        </div>
                        <div>
                            <span class="text-xs font-medium text-gray-600">Coins</span>
                            <div class="text-sm font-bold text-gray-800"><span id="userPoints">0</span></div>
                        </div>
                    </div>
                    <div class="flex items-center">
                        <div class="bg-gradient-to-r from-orange-400 to-red-500 rounded-full p-2 mr-2 shadow-md">
                            <i class="fas fa-fire text-white"></i>
                        </div>
                        <div>
                            <span class="text-xs font-medium text-gray-600">Streak</span>
                            <div class="text-sm font-bold text-gray-800"><span id="userStreak">0</span></div>
                        </div>
                    </div>
                </div>
                <div class="flex items-center justify-between mb-3">
                    <span class="text-sm text-gray-600">Explorer:</span>
                    <span class="text-sm font-medium text-gray-800" id="userName">Chemist</span>
                </div>
                <div id="achievementsContainer" class="mb-3">
                    <!-- Achievement badges will be loaded here -->
                </div>
                <button onclick="signOut()" class="btn btn-secondary w-full text-sm">
                    <i class="fas fa-sign-out-alt mr-1"></i>
                    Exit Adventure
                </button>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <!-- Learning Path -->
            <div class="mb-8">
                <div class="learning-path">
                    <div class="path-step completed">
                        <i class="fas fa-check"></i>
                        <span class="path-label">Start Quiz</span>
                    </div>
                    <div class="path-step active">
                        <i class="fas fa-book-open"></i>
                        <span class="path-label">Learn</span>
                    </div>
                    <div class="path-step">
                        <i class="fas fa-trophy"></i>
                        <span class="path-label">Master</span>
                    </div>
                </div>
            </div>
            
            <!-- Overview Section -->
            <div id="overview-section" class="content-section">
                <!-- Hero Section -->
                <div class="text-center mb-10">
                    <h2 class="text-4xl font-bold text-white mb-4 glow-text">Group 1: The Alkali Metal Heroes</h2>
                    <p class="text-xl text-white/95 max-w-2xl mx-auto">
                        Meet the <strong>most reactive elements</strong> in the periodic table
                    </p>
                </div>
                
                <!-- Introduction -->
                <div class="content-card fade-in">
                    <h3 class="text-2xl font-bold text-gray-800 mb-5 flex items-center">
                        <i class="fas fa-info-circle mr-3 text-indigo-600"></i>
                        Meet the Team
                    </h3>
                    <p class="text-gray-700 mb-5 text-lg">
                        Welcome to the exciting world of Group 1 elements! These special elements (Li, Na, K, Rb, Cs, Fr) are like the superheroes of the periodic table. 
                        They all have just one electron in their outer shell, which they're eager to share to form +1 ions.
                    </p>
                    
                    <div class="highlight-box">
                        <h4>Superhero Secret</h4>
                        <p>Group 1 elements have electron arrangements ending with one outer electron (e.g., Li: 2,1; Na: 2,8,1). This lone electron makes them super reactive and ready for action!</p>
                    </div>
                    
                    <p class="text-gray-700 mt-5 text-lg">
                        These amazing elements are soft, shiny metals with low density and low melting points.
                        They become more powerful as you go down the group. You'll never find them in their pure form in nature - they're always teaming up with other elements!
                    </p>
                </div>
                
                <!-- Key Characteristics -->
                <div class="content-card fade-in">
                    <h3 class="text-2xl font-bold text-gray-800 mb-5 flex items-center">
                        <i class="fas fa-star mr-3 text-indigo-600"></i>
                        Super Powers
                    </h3>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-semibold text-gray-700 mb-3 text-lg">Physical Powers</h4>
                            <ul class="space-y-3 text-gray-600">
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mt-1 mr-3 text-xl"></i>
                                    <span class="text-lg"><strong>Super Soft</strong> - can be cut with a knife</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mt-1 mr-3 text-xl"></i>
                                    <span class="text-lg"><strong>Lightweight Champions</strong> - Li floats on water</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mt-1 mr-3 text-xl"></i>
                                    <span class="text-lg"><strong>Low Melting Points</strong> - melt easily</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mt-1 mr-3 text-xl"></i>
                                    <span class="text-lg"><strong>Power Conductors</strong> of heat and electricity</span>
                                </li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-700 mb-3 text-lg">Chemical Powers</h4>
                            <ul class="space-y-3 text-gray-600">
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mt-1 mr-3 text-xl"></i>
                                    <span class="text-lg"><strong>Ultra Reactive</strong> with one outer electron</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mt-1 mr-3 text-xl"></i>
                                    <span class="text-lg"><strong>Form +1 Ions</strong> by losing outer electron</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mt-1 mr-3 text-xl"></i>
                                    <span class="text-lg"><strong>Power Increases</strong> down the group</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mt-1 mr-3 text-xl"></i>
                                    <span class="text-lg"><strong>Never Found Alone</strong> in nature</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="key-point mt-5">
                        <h4>Remember</h4>
                        <p>These elements are so reactive they must be stored under oil to prevent them from reacting with air and water!</p>
                    </div>
                </div>
                
                <!-- Applications -->
                <div class="content-card fade-in">
                    <h3 class="text-2xl font-bold text-gray-800 mb-5 flex items-center">
                        <i class="fas fa-industry mr-3 text-indigo-600"></i>
                        Real-World Missions
                    </h3>
                    <div class="grid md:grid-cols-3 gap-5">
                        <div class="bg-blue-50 p-5 rounded-lg">
                            <h4 class="font-semibold text-blue-800 mb-3 text-lg">Lithium</h4>
                            <p class="text-sm text-blue-600">Batteries, glass, medicine</p>
                            <div class="mt-3 text-xs text-blue-500">
                                <i class="fas fa-battery-full mr-1"></i> Powers your phone
                            </div>
                        </div>
                        <div class="bg-green-50 p-5 rounded-lg">
                            <h4 class="font-semibold text-green-800 mb-3 text-lg">Sodium</h4>
                            <p class="text-sm text-green-600">Street lights, salt, food</p>
                            <div class="mt-3 text-xs text-green-500">
                                <i class="fas fa-lightbulb mr-1"></i> Lights up our cities
                            </div>
                        </div>
                        <div class="bg-purple-50 p-5 rounded-lg">
                            <h4 class="font-semibold text-purple-800 mb-3 text-lg">Potassium</h4>
                            <p class="text-sm text-purple-600">Fertilizers, soap, plants</p>
                            <div class="mt-3 text-xs text-purple-500">
                                <i class="fas fa-seedling mr-1"></i> Helps plants grow
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="fun-fact-box">
                    <h4><i class="fas fa-magic mr-2"></i>Amazing Fact</h4>
                    <p>Group 1 metals are so reactive that some of them (like cesium) can explode on contact with water! That's why scientists handle them with special equipment and store them in special oils.</p>
                </div>
            </div>
            
            <!-- Elements Section -->
            <div id="elements-section" class="content-section" style="display: none;">
                <div class="content-card fade-in">
                    <h3 class="text-2xl font-bold text-gray-800 mb-5 flex items-center">
                        <i class="fas fa-th mr-3 text-indigo-600"></i>
                        Meet the Element Heroes
                    </h3>
                    <div class="element-grid">
                        <div class="element-card">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/e/ed/Lithiumcut_cropped.jpg" alt="Lithium" class="element-image">
                            <h4 class="font-bold text-xl">Lithium (Li)</h4>
                            <p class="text-sm text-gray-600">Atomic: <strong>3</strong></p>
                            <div class="mt-2 text-xs text-indigo-600">
                                <i class="fas fa-battery-three-quarters mr-1"></i> Battery Power
                            </div>
                        </div>
                        <div class="element-card">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/2/27/Na_%28Sodium%29.jpg" alt="Sodium" class="element-image">
                            <h4 class="font-bold text-xl">Sodium (Na)</h4>
                            <p class="text-sm text-gray-600">Atomic: <strong>11</strong></p>
                            <div class="mt-2 text-xs text-indigo-600">
                                <i class="fas fa-lightbulb mr-1"></i> Light Maker
                            </div>
                        </div>
                        <div class="element-card">
                            <img src="https://cdn.britannica.com/77/131177-050-79292189/fragments-Potassium-metal.jpg" alt="Potassium" class="element-image">
                            <h4 class="font-bold text-xl">Potassium (K)</h4>
                            <p class="text-sm text-gray-600">Atomic: <strong>19</strong></p>
                            <div class="mt-2 text-xs text-indigo-600">
                                <i class="fas fa-seedling mr-1"></i> Plant Helper
                            </div>
                        </div>
                        <div class="element-card">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/c/c9/Rb5.JPG" alt="Rubidium" class="element-image">
                            <h4 class="font-bold text-xl">Rubidium (Rb)</h4>
                            <p class="text-sm text-gray-600">Atomic: <strong>37</strong></p>
                            <div class="mt-2 text-xs text-indigo-600">
                                <i class="fas fa-clock mr-1"></i> Time Keeper
                            </div>
                        </div>
                        <div class="element-card">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/3/3d/Cesium.jpg" alt="Cesium" class="element-image">
                            <h4 class="font-bold text-xl">Cesium (Cs)</h4>
                            <p class="text-sm text-gray-600">Atomic: <strong>55</strong></p>
                            <div class="mt-2 text-xs text-indigo-600">
                                <i class="fas fa-clock mr-1"></i> Super Clock
                            </div>
                        </div>
                        <div class="element-card">
                            <img src="https://i0.wp.com/periodic-table.com/wp-content/uploads/2018/11/Francium.jpg?fit=238%2C212&ssl=1" alt="Francium" class="element-image">
                            <h4 class="font-bold text-xl">Francium (Fr)</h4>
                            <p class="text-sm text-gray-600">Atomic: <strong>87</strong></p>
                            <div class="mt-2 text-xs text-indigo-600">
                                <i class="fas fa-flask mr-1"></i> Mystery Element
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Element Details -->
                <div class="content-card fade-in">
                    <h3 class="text-2xl font-bold text-gray-800 mb-5 flex items-center">
                        <i class="fas fa-info mr-3 text-indigo-600"></i>
                        Hero Stats
                    </h3>
                    <div class="overflow-x-auto">
                        <table class="comparison-table">
                            <thead>
                                <tr>
                                    <th>Element</th>
                                    <th>Symbol</th>
                                    <th>Atomic Number</th>
                                    <th>Density (g/cm³)</th>
                                    <th>Melting Point (°C)</th>
                                    <th>Special Power</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="font-medium">Lithium</td>
                                    <td>Li</td>
                                    <td>3</td>
                                    <td>0.534</td>
                                    <td>180.5</td>
                                    <td>Battery energy</td>
                                </tr>
                                <tr>
                                    <td class="font-medium">Sodium</td>
                                    <td>Na</td>
                                    <td>11</td>
                                    <td>0.968</td>
                                    <td>97.8</td>
                                    <td>Light production</td>
                                </tr>
                                <tr>
                                    <td class="font-medium">Potassium</td>
                                    <td>K</td>
                                    <td>19</td>
                                    <td>0.89</td>
                                    <td>63.5</td>
                                    <td>Plant growth</td>
                                </tr>
                                <tr>
                                    <td class="font-medium">Rubidium</td>
                                    <td>Rb</td>
                                    <td>37</td>
                                    <td>1.532</td>
                                    <td>39.3</td>
                                    <td>Time precision</td>
                                </tr>
                                <tr>
                                    <td class="font-medium">Cesium</td>
                                    <td>Cs</td>
                                    <td>55</td>
                                    <td>1.93</td>
                                    <td>28.4</td>
                                    <td>Super accuracy</td>
                                </tr>
                                <tr>
                                    <td class="font-medium">Francium</td>
                                    <td>Fr</td>
                                    <td>87</td>
                                    <td>~1.87</td>
                                    <td>~27</td>
                                    <td>Scientific mystery</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="highlight-box mt-5">
                        <h4>Where to Find Them</h4>
                        <p>Group 1 metals are <strong>never found alone</strong> in nature because they're too reactive! They're always found in compounds:
                        <ul class="list-disc pl-5 mt-3">
                            <li><strong>Chlorides</strong> (like table salt - NaCl)</li>
                            <li><strong>Carbonates</strong> (in rocks and minerals)</li>
                            <li><strong>In seawater</strong> and underground deposits</li>
                        </ul>
                    </div>
                </div>
                
                <div class="fun-fact-box">
                    <h4><i class="fas fa-magic mr-2"></i>Did You Know?</h4>
                    <p>Francium is one of the rarest elements on Earth! It's so radioactive that scientists estimate there's only 20-30 grams of it in the Earth's crust at any given time.</p>
                </div>
            </div>
            
            <!-- Properties Section -->
            <div id="properties-section" class="content-section" style="display: none;">
                <div class="content-card fade-in">
                    <h3 class="text-2xl font-bold text-gray-800 mb-5 flex items-center">
                        <i class="fas fa-flask mr-3 text-indigo-600"></i>
                        Super Powers & Abilities
                    </h3>
                    
                    <div class="tabs">
                        <button class="tab active" onclick="showTab('physical')">Physical Powers</button>
                        <button class="tab" onclick="showTab('chemical')">Chemical Powers</button>
                        <button class="tab" onclick="showTab('trends')">Power Patterns</button>
                    </div>
                    
                    <div id="physical" class="tab-content active">
                        <div class="grid md:grid-cols-2 gap-5">
                            <div>
                                <h4 class="font-semibold text-gray-700 mb-3 text-lg">Physical Abilities</h4>
                                <ul class="space-y-3 text-gray-600">
                                    <li class="flex items-start">
                                        <i class="fas fa-check-circle text-green-500 mt-1 mr-3 text-xl"></i>
                                        <span class="text-lg"><strong>Super Soft</strong> - can be cut with a knife</span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-check-circle text-green-500 mt-1 mr-3 text-xl"></i>
                                        <span class="text-lg"><strong>Lightweight Champions</strong> - Li floats on water</span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-check-circle text-green-500 mt-1 mr-3 text-xl"></i>
                                        <span class="text-lg"><strong>Low Melting Points</strong> - melt easily</span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-check-circle text-green-500 mt-1 mr-3 text-xl"></i>
                                        <span class="text-lg"><strong>Power Conductors</strong> of heat and electricity</span>
                                    </li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-700 mb-3 text-lg">Appearance</h4>
                                <ul class="space-y-3 text-gray-600">
                                    <li class="flex items-start">
                                        <i class="fas fa-check-circle text-green-500 mt-1 mr-3 text-xl"></i>
                                        <span class="text-lg"><strong>Silvery-white, shiny metals</strong></span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-check-circle text-green-500 mt-1 mr-3 text-xl"></i>
                                        <span class="text-lg"><strong>Quickly change</strong> in air (tarnish)</span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-check-circle text-green-500 mt-1 mr-3 text-xl"></i>
                                        <span class="text-lg"><strong>Freshly cut surfaces</strong> are super shiny</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="highlight-box mt-5">
                            <h4>Why are Group 1 metals so soft?</h4>
                            <p>Group 1 metals have <strong>weak bonds</strong> between atoms because:
                            <ul class="list-disc pl-5 mt-3">
                                <li>Each atom shares only <strong>one electron</strong> for bonding</li>
                                <li>The atoms are <strong>far apart</strong> from each other</li>
                            </ul>
                            <p class="mt-3">This makes the metals soft with low melting points - perfect for their superhero status!</p>
                        </div>
                    </div>
                    
                    <div id="chemical" class="tab-content">
                        <div class="space-y-5">
                            <div>
                                <h4 class="font-semibold text-gray-700 mb-3 text-lg">Chemical Super Powers</h4>
                                <p class="text-gray-600 mb-5 text-lg">
                                    Group 1 elements are <strong>chemical superheroes</strong> with one outer electron that they're ready to share!
                                </p>
                                <div class="equation-box">
                                    <p class="text-gray-700 mb-3">When they spring into action:</p>
                                    <p class="equation">M → M⁺ + e⁻</p>
                                </div>
                            </div>
                            
                            <div>
                                <h4 class="font-semibold text-gray-700 mb-3 text-lg">Power Levels</h4>
                                <p class="text-gray-600 mb-4 text-lg">
                                    Reactivity increases down the group because the outer electron is further from the nucleus and easier to share.
                                </p>
                                
                                <div class="highlight-box mt-4">
                                    <h4>Why power increases down the group:</h4>
                                    <ul class="list-disc pl-5 mt-3">
                                        <li><strong>Atoms get bigger</strong> down the group</li>
                                        <li><strong>Outer electron is further</strong> from the nucleus</li>
                                        <li><strong>More inner electrons</strong> block the nucleus pull</li>
                                    </ul>
                                    <p class="mt-3">This makes it <strong>easier to share</strong> the outer electron - more power!</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="trends" class="tab-content">
                        <div class="space-y-5">
                            <h4 class="font-semibold text-gray-700 mb-4 text-lg">Super Power Patterns</h4>
                            
                            <div class="overflow-x-auto">
                                <table class="comparison-table">
                                    <thead>
                                        <tr>
                                            <th>Power</th>
                                            <th>Trend</th>
                                            <th>Why</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Atomic size</td>
                                            <td><strong>Increases</strong></td>
                                            <td>More electron shells</td>
                                        </tr>
                                        <tr>
                                            <td>Reactivity</td>
                                            <td><strong>Increases</strong></td>
                                            <td>Easier to share outer electron</td>
                                        </tr>
                                        <tr>
                                            <td>Melting point</td>
                                            <td><strong>Decreases</strong></td>
                                            <td>Weaker bonds between atoms</td>
                                        </tr>
                                        <tr>
                                            <td>Density</td>
                                            <td><strong>Increases</strong></td>
                                            <td>Exception: K < Na</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            
                            <div class="key-point">
                                <h4>Super Exception</h4>
                                <p><strong>Potassium (K) is less dense than sodium (Na)</strong> even though it's heavier! This is because potassium atoms take up more space - like a superhero with a bigger cape!</p>
                            </div>
                            
                            <div class="highlight-box mt-4">
                                <h4>Seeing the Power Pattern</h4>
                                <p>You can see how reactivity changes when Group 1 metals react with water:
                                <ul class="list-disc pl-5 mt-3">
                                    <li><strong>Lithium:</strong> Fizzes gently, moves slowly</li>
                                    <li><strong>Sodium:</strong> Fizzes fast, melts into a ball</li>
                                    <li><strong>Potassium:</strong> Fizzes very fast, may catch fire</li>
                                </ul>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="fun-fact-box">
                    <h4><i class="fas fa-magic mr-2"></i>Amazing Chemistry</h4>
                    <p>The reactivity of Group 1 metals is so predictable that chemists can arrange them in order of power just by watching how they react with water. This pattern is one of the most beautiful examples of periodicity in chemistry!</p>
                </div>
            </div>
            
            <!-- Reactions Section -->
            <div id="reactions-section" class="content-section" style="display: none;">
                <div class="content-card fade-in">
                    <h3 class="text-2xl font-bold text-gray-800 mb-5 flex items-center">
                        <i class="fas fa-vial mr-3 text-indigo-600"></i>
                        Chemical Battles
                    </h3>
                    
                    <div class="tabs">
                        <button class="tab active" onclick="showTab('water')">Water Battles</button>
                        <button class="tab" onclick="showTab('oxygen')">Oxygen Battles</button>
                        <button class="tab" onclick="showTab('halogens')">Halogens Battles</button>
                    </div>
                    
                    <div id="water" class="tab-content active">
                        <div class="space-y-7">
                            <div>
                                <h4 class="font-semibold text-gray-700 mb-4 text-lg">Battle with Water</h4>
                                <div class="equation-box">
                                    <p class="text-gray-700 mb-3">Battle equation:</p>
                                    <p class="equation">2M(s) + 2H₂O(l) → 2MOH(aq) + H₂(g)</p>
                                </div>
                                <p class="text-gray-600 mb-5 text-lg">
                                    All Group 1 metals battle with water to produce <strong>hydrogen gas</strong> and <strong>metal hydroxide</strong>. 
                                    The battles get more exciting as you go down the group!
                                </p>
                                
                                <div class="highlight-box">
                                    <h4>Battle Results:</h4>
                                    <div class="grid md:grid-cols-3 gap-5 mt-4">
                                        <div class="bg-blue-50 p-4 rounded-lg">
                                            <h5 class="font-semibold text-blue-800">Lithium</h5>
                                            <p class="text-sm text-blue-600"><strong>Fizzes gently</strong></p>
                                            <p class="text-xs text-blue-500 mt-2">Moves slowly</p>
                                        </div>
                                        <div class="bg-blue-50 p-4 rounded-lg">
                                            <h5 class="font-semibold text-blue-800">Sodium</h5>
                                            <p class="text-sm text-blue-600"><strong>Fizzes fast</strong></p>
                                            <p class="text-xs text-blue-500 mt-2">Melts into a ball</p>
                                        </div>
                                        <div class="bg-blue-50 p-4 rounded-lg">
                                            <h5 class="font-semibold text-blue-800">Potassium</h5>
                                            <p class="text-sm text-blue-600"><strong>Fizzes very fast</strong></p>
                                            <p class="text-xs text-blue-500 mt-2">May catch fire</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-indigo-50 p-5 rounded-lg">
                                <h5 class="font-semibold text-indigo-800 mb-3 text-lg">Safety Alert:</h5>
                                <p class="text-indigo-700 text-lg">
                                    Group 1 metals must be stored under oil to keep them away from air and water. 
                                    Always use small pieces and wear <strong>safety goggles</strong> during experiments!
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <div id="oxygen" class="tab-content">
                        <div class="space-y-7">
                            <div>
                                <h4 class="font-semibold text-gray-700 mb-4 text-lg">Oxygen Challenge</h4>
                                <p class="text-gray-600 mb-5 text-lg">
                                    Group 1 metals face different challenges when battling with oxygen, creating different compounds.
                                </p>
                                
                                <div class="grid md:grid-cols-3 gap-5">
                                    <div class="bg-green-50 p-4 rounded-lg">
                                        <h5 class="font-semibold text-green-800">Lithium</h5>
                                        <p class="text-sm text-green-600"><strong>Creates lithium oxide</strong></p>
                                        <div class="equation-box mt-3">
                                            <p class="equation text-sm">4Li + O₂ → 2Li₂O</p>
                                        </div>
                                    </div>
                                    <div class="bg-green-50 p-4 rounded-lg">
                                        <h5 class="font-semibold text-green-800">Sodium</h5>
                                        <p class="text-sm text-green-600"><strong>Creates sodium peroxide</strong></p>
                                        <div class="equation-box mt-3">
                                            <p class="equation text-sm">2Na + O₂ → Na₂O₂</p>
                                        </div>
                                    </div>
                                    <div class="bg-green-50 p-4 rounded-lg">
                                        <h5 class="font-semibold text-green-800">Potassium</h5>
                                        <p class="text-sm text-green-600"><strong>Creates potassium superoxide</strong></p>
                                        <div class="equation-box mt-3">
                                            <p class="equation text-sm">K + O₂ → KO₂</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <h5 class="font-semibold text-gray-700 mb-3 text-lg">Battle Pattern:</h5>
                                <p class="text-gray-600 mb-4 text-lg">
                                    As you go down the group, the metals create different oxygen compounds:
                                </p>
                                
                                <div class="highlight-box mt-4">
                                    <h4>Why Different Results?</h4>
                                    <p>It depends on the <strong>size of the metal atom</strong>:
                                    <ul class="list-disc pl-5 mt-3">
                                        <li><strong>Small Li</strong> creates normal oxide (Li₂O)</li>
                                        <li><strong>Medium Na</strong> creates peroxide (Na₂O₂)</li>
                                        <li><strong>Large K, Rb, Cs</strong> create superoxides</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="halogens" class="tab-content">
                        <div class="space-y-7">
                            <div>
                                <h4 class="font-semibold text-gray-700 mb-4 text-lg">Halogens Showdown</h4>
                                <div class="equation-box">
                                    <p class="text-gray-700 mb-3">Showdown equation:</p>
                                    <p class="equation">2M(s) + X₂ → 2MX(s)</p>
                                    <p class="text-gray-600 text-sm">Where X = F, Cl, Br, I</p>
                                </div>
                                <p class="text-gray-600 mb-5 text-lg">
                                    Group 1 metals battle strongly with halogens to create salts. These showdowns often produce bright, colorful flames!
                                </p>
                                <div class="grid md:grid-cols-2 gap-5">
                                    <div class="bg-purple-50 p-4 rounded-lg">
                                        <h5 class="font-semibold text-purple-800">With Chlorine</h5>
                                        <div class="equation-box mt-3">
                                            <p class="equation text-sm">2Na + Cl₂ → 2NaCl</p>
                                        </div>
                                        <p class="text-sm text-purple-600 mt-3"><strong>Yellow flame</strong></p>
                                    </div>
                                    <div class="bg-purple-50 p-4 rounded-lg">
                                        <h5 class="font-semibold text-purple-800">With Bromine</h5>
                                        <div class="equation-box mt-3">
                                            <p class="equation text-sm">2K + Br₂ → 2KBr</p>
                                        </div>
                                        <p class="text-sm text-purple-600 mt-3"><strong>Red-brown vapor</strong></p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-purple-50 p-5 rounded-lg">
                                <h5 class="font-semibold text-purple-800 mb-3 text-lg">Salt Superpowers:</h5>
                                <ul class="text-sm text-purple-700 space-y-2">
                                    <li>• All are <strong>white crystals</strong> at room temperature</li>
                                    <li>• <strong>High melting points</strong></li>
                                    <li>• <strong>Dissolve in water</strong></li>
                                    <li>• <strong>Conduct electricity</strong> when melted or dissolved</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="fun-fact-box">
                    <h4><i class="fas fa-magic mr-2"></i>Chemistry Magic</h4>
                    <p>When Group 1 metals react with water, they produce hydrogen gas. This gas is highly flammable and can explode! That's why these reactions must be done carefully by scientists wearing special safety equipment.</p>
                </div>
            </div>
            
            <!-- Study Groups Section -->
            <div id="study-groups-section" class="content-section" style="display: none;">
                <div class="content-card fade-in">
                    <div class="flex justify-between items-center mb-5">
                        <h3 class="text-2xl font-bold text-gray-800 flex items-center">
                            <i class="fas fa-users mr-3 text-indigo-600"></i>
                            Study Teams
                        </h3>
                        <button onclick="showCreateStudyGroup()" class="btn btn-primary">
                            <i class="fas fa-plus"></i>
                            Create Team
                        </button>
                    </div>
                    <div id="studyGroupsContainer">
                        <!-- Study groups will be loaded here -->
                    </div>
                </div>
            </div>
            
            <!-- Discussion Section -->
            <div id="discussion-section" class="content-section" style="display: none;">
                <div class="comment-section fade-in">
                    <h3 class="text-2xl font-bold text-gray-800 mb-5 flex items-center">
                        <i class="fas fa-comments mr-3 text-indigo-600"></i>
                        Discussion Hub
                    </h3>
                    <div id="commentsContainer">
                        <!-- Comments will be loaded here -->
                    </div>
                    <div class="comment-form">
                        <input type="text" id="commentInput" class="comment-input" placeholder="Share your thoughts...">
                        <button onclick="addComment()" class="comment-submit">Post</button>
                    </div>
                </div>
            </div>
            
            <!-- Post Quiz Section -->
            <div id="quiz-section" class="content-section" style="display: none;">
                <div class="content-card fade-in">
                    <h3 class="text-2xl font-bold text-gray-800 mb-5 flex items-center">
                        <i class="fas fa-graduation-cap mr-3 text-indigo-600"></i>
                        Final Challenge
                    </h3>
                    <p class="text-gray-600 mb-5 text-lg">
                        Test your chemistry skills after completing your training. See how much you've <strong>leveled up</strong>!
                    </p>
                    <button onclick="startPostQuiz()" class="btn btn-primary">
                        <i class="fas fa-play"></i>
                        Start Final Challenge
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Welcome to Chemistry Quest</h2>
                <button class="close-btn" onclick="closeLoginModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="auth-tabs">
                <div class="auth-tab active" onclick="switchAuthTab('login')">Join Quest</div>
                <div class="auth-tab" onclick="switchAuthTab('signup')">Create Account</div>
            </div>
            
            <!-- Login Form -->
            <div id="loginForm" class="auth-content active">
                <form id="loginFormElement" class="space-y-5">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                        <input type="email" id="loginEmail" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="your@email.com" required>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                        <input type="password" id="loginPassword" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="•••••••••" required>
                    </div>
                    
                    <button type="submit" class="btn btn-primary w-full">
                        <i class="fas fa-sign-in-alt"></i>
                        Join Quest
                    </button>
                </form>
            </div>
            
            <!-- Signup Form -->
            <div id="signupForm" class="auth-content">
                <form id="signupFormElement" class="space-y-5">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Explorer Name</label>
                        <input type="text" id="signupName" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Your name" required>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                        <input type="email" id="signupEmail" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="your@email.com" required>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                        <input type="password" id="signupPassword" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="•••••••••" required>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Confirm Password</label>
                        <input type="password" id="signupConfirmPassword" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="•••••••••" required>
                    </div>
                    
                    <button type="submit" class="btn btn-primary w-full">
                        <i class="fas fa-user-plus"></i>
                        Create Account
                    </button>
                </form>
            </div>
            
            <div class="mt-8 text-center">
                <p class="text-gray-600 mb-3">Or join with</p>
                <button onclick="signInWithGoogle()" class="btn btn-secondary w-full">
                    <i class="fab fa-google"></i>
                    Google
                </button>
            </div>
        </div>
    </div>
    
    <!-- Quiz Modal -->
    <div id="quizModal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-5">
                <h2 class="text-2xl font-bold text-gray-800" id="quizTitle">Chemistry Challenge</h2>
                <button onclick="closeQuiz()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-2xl"></i>
                </button>
            </div>
            
            <div id="quizProgress" class="mb-5">
                <div class="flex justify-between items-center mb-3">
                    <span class="text-sm text-gray-600">Question <span id="currentQuestion">1</span> of <span id="totalQuestions">7</span></span>
                    <span class="text-sm text-gray-600">Score: <span id="currentScore">0</span></span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 14.3%"></div>
                </div>
            </div>
            
            <div id="quizContent">
                <div class="mb-7">
                    <h3 class="text-xl font-semibold mb-5" id="questionText">Loading question...</h3>
                    <div id="optionsContainer"></div>
                </div>
                
                <div id="feedback" class="hidden mb-5 p-4 rounded-lg text-sm"></div>
                
                <div class="flex justify-between items-center">
                    <button id="prevButton" class="btn btn-secondary hidden" onclick="previousQuestion()">
                        <i class="fas fa-arrow-left"></i>
                        Previous
                    </button>
                    <div class="flex gap-3">
                        <button id="submitButton" class="btn btn-primary" onclick="submitAnswer()">
                            Submit Answer
                        </button>
                        <button id="nextButton" class="btn btn-primary hidden" onclick="nextQuestion()">
                            Next
                            <i class="fas fa-arrow-right ml-1"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <div id="quizResults" class="hidden text-center">
                <div class="mb-6">
                    <i class="fas fa-trophy text-6xl text-yellow-500 mb-4"></i>
                    <div id="confettiContainer"></div>
                </div>
                <h3 class="text-3xl font-bold mb-4">Challenge Complete!</h3>
                <div class="text-5xl font-bold text-indigo-600 mb-4" id="finalScore">0/7</div>
                <p class="text-gray-600 mb-7 text-lg" id="scoreMessage">Great job!</p>
                
                <div id="postQuizActions" class="hidden">
                    <button onclick="completePreQuiz()" class="btn btn-primary">
                        <i class="fas fa-arrow-right"></i>
                        Continue Your Adventure
                    </button>
                </div>
                
                <div id="finalActions" class="hidden">
                    <button onclick="closeQuiz()" class="btn btn-primary">
                        <i class="fas fa-check"></i>
                        Finish
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Create Study Group Modal -->
    <div id="createStudyGroupModal" class="modal">
        <div class="modal-content">
            <h2 class="text-2xl font-bold text-gray-800 mb-5">Create Study Team</h2>
            
            <form id="createStudyGroupForm" class="space-y-5">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Team Name</label>
                    <input type="text" id="groupName" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Enter team name" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                    <textarea id="groupDescription" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" rows="3" placeholder="Describe your study team" required></textarea>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Mission</label>
                    <input type="text" id="groupGoal" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="What's your team's mission?" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Max Members</label>
                    <select id="groupMaxMembers" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" required>
                        <option value="5">5 members</option>
                        <option value="10">10 members</option>
                        <option value="15">15 members</option>
                        <option value="20">20 members</option>
                    </select>
                </div>
                
                <button type="submit" class="btn btn-primary w-full">
                    <i class="fas fa-plus"></i>
                    Create Team
                </button>
            </form>
        </div>
    </div>
    
    <!-- Toast Container -->
    <div id="toastContainer"></div>
    
    <!-- Loading Overlay -->
    <div id="loadingOverlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 3000; align-items: center; justify-content: center;">
        <div class="bg-white rounded-lg p-8 text-center">
            <div class="spinner"></div>
            <p class="mt-3 text-gray-600 text-lg">Loading your adventure...</p>
        </div>
    </div>
    
    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBOp4x0lTFvmt2s3MQKBRYmZT9IJ2ZaRi8",
            authDomain: "group-1-alkali-metals.firebaseapp.com",
            databaseURL: "https://group-1-alkali-metals-default-rtdb.firebaseio.com",
            projectId: "group-1-alkali-metals",
            storageBucket: "group-1-alkali-metals.firebasestorage.app",
            messagingSenderId: "806417495419",
            appId: "1:806417495419:web:5b80607e8a23e96da4f9de",
            measurementId: "G-S76E52MQ37"
        };
        
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const database = firebase.database();
        
        // Global variables
        let currentUser = null;
        let userData = null;
        let currentQuiz = [];
        let currentQuestion = 0;
        let score = 0;
        let selectedOption = null;
        let quizType = '';
        let answerSubmitted = false;
        let justSignedIn = false; // Flag to track if user just signed in
        
        // Quiz questions - Simplified for Year 10 students
        const preQuizQuestions = [
            {
                type: 'single',
                question: "Which of the following is the correct electron arrangement of sodium?",
                options: ["[He] 2s² 2p⁶ 3s¹", "[Ne] 3s²", "[Ne] 3s¹", "[Ar] 4s¹"],
                correct: 2,
                explanation: "Sodium (Na) has 11 electrons. Its electron arrangement is [Ne] 3s¹, meaning it has the same arrangement as neon plus one electron in the 3s orbital."
            },
            {
                type: 'drag-drop',
                question: "Match the Group 1 element to its flame test color:",
                dragItems: ["Lithium", "Sodium", "Potassium", "Rubidium"],
                dropTargets: ["Red", "Yellow", "Lilac", "Red-violet"],
                correct: { "Lithium": "Red", "Sodium": "Yellow", "Potassium": "Lilac", "Rubidium": "Red-violet" },
                explanation: "Each Group 1 metal produces a characteristic flame color: Lithium (red), Sodium (yellow), Potassium (lilac), and Rubidium (red-violet)."
            },
            {
                type: 'fill-blank',
                question: "Group 1 metals are stored under oil because they react with ______ and ______ in the air.",
                correct: ["oxygen", "moisture"],
                caseSensitive: false,
                explanation: "Group 1 metals are very reactive and react with both oxygen and moisture in the air. Storing them under oil prevents these reactions."
            },
            {
                type: 'multiple',
                question: "Which of the following are properties of Group 1 metals? (Select all that apply)",
                options: [
                    "Low density", 
                    "High melting points", 
                    "Form +1 ions", 
                    "Good conductors of electricity",
                    "High reactivity"
                ],
                correct: [0, 2, 3, 4],
                explanation: "Group 1 metals have low density, form +1 ions, are good conductors of electricity, and have high reactivity. They have low melting points."
            },
            {
                type: 'single',
                question: "What is the main product when sodium reacts with cold water?",
                options: ["Sodium oxide and hydrogen", "Sodium hydroxide and hydrogen", "Sodium peroxide and hydrogen", "Sodium and water"],
                correct: 1,
                explanation: "Sodium reacts with cold water to produce sodium hydroxide (NaOH) and hydrogen gas (H₂). The equation is: 2Na + 2H₂O → 2NaOH + H₂."
            },
            {
                type: 'matching',
                question: "Match the reaction to the correct observation:",
                pairs: [
                    { left: "Lithium + water", right: "Fizzes steadily" },
                    { left: "Sodium + water", right: "Melts into a ball" },
                    { left: "Potassium + water", right: "Ignites with lilac flame" }
                ],
                correct: 0,
                explanation: "Lithium fizzes steadily in water, sodium melts into a ball and moves quickly, while potassium reacts violently and may ignite with a lilac flame."
            },
            {
                type: 'single',
                question: "Which Group 1 element has the lowest density and floats on water?",
                options: ["Sodium", "Lithium", "Cesium", "Rubidium"],
                correct: 1,
                explanation: "Lithium has the lowest density (0.534 g/cm³) of all Group 1 metals, which is less than water (1 g/cm³), so it floats on water."
            }
        ];
        
        const postQuizQuestions = [
            {
                type: 'single',
                question: "Which element in Group 1 forms a peroxide when burned in oxygen?",
                options: ["Lithium", "Sodium", "Potassium", "Rubidium"],
                correct: 1,
                explanation: "Sodium forms the peroxide Na₂O₂ when burned in air, unlike lithium which forms the normal oxide Li₂O, and potassium/rubidium which form superoxides."
            },
            {
                type: 'drag-drop',
                question: "Match the reaction to the correct observation:",
                dragItems: [
                    "Lithium + water", 
                    "Sodium + water", 
                    "Potassium + water"
                ],
                dropTargets: [
                    "Fizzes steadily", 
                    "Melts into a ball", 
                    "Ignites with lilac flame"
                ],
                correct: { 
                    "Lithium + water": "Fizzes steadily", 
                    "Sodium + water": "Melts into a ball", 
                    "Potassium + water": "Ignites with lilac flame" 
                },
                explanation: "Lithium fizzes steadily in water, sodium melts into a ball and moves quickly, while potassium reacts violently and may ignite with a lilac flame."
            },
            {
                type: 'fill-blank',
                question: "The reactivity of Group 1 metals ______ down the group.",
                correct: ["increases"],
                caseSensitive: false,
                explanation: "Reactivity increases down Group 1 because the atoms get larger and the outer electron is further from the nucleus, making it easier to lose."
            },
            {
                type: 'multiple',
                question: "Which of these are uses of Group 1 metals and their compounds? (Select all that apply)",
                options: [
                    "Lithium in batteries",
                    "Sodium vapor in street lights",
                    "Potassium in fertilizers",
                    "Rubidium in atomic clocks",
                    "All of the above"
                ],
                correct: [0, 1, 2, 3, 4],
                explanation: "All Group 1 metals have important uses: Lithium in batteries, sodium vapor in street lights, potassium in fertilizers, and rubidium in atomic clocks."
            },
            {
                type: 'single',
                question: "What is the formula of the superoxide formed by potassium?",
                options: ["KO", "KO₂", "K₂O", "K₂O₂"],
                correct: 1,
                explanation: "Potassium forms the superoxide KO₂ when burned in oxygen, unlike sodium which forms the peroxide Na₂O₂ and lithium which forms the oxide Li₂O."
            },
            {
                type: 'matching',
                question: "Match the element to its main oxygen compound:",
                pairs: [
                    { left: "Lithium", right: "Lithium oxide (Li₂O)" },
                    { left: "Sodium", right: "Sodium peroxide (Na₂O₂)" },
                    { left: "Potassium", right: "Potassium superoxide (KO₂)" }
                ],
                correct: 0,
                explanation: "Lithium forms lithium oxide (Li₂O), sodium forms sodium peroxide (Na₂O₂), and potassium forms potassium superoxide (KO₂) when burned in oxygen."
            },
            {
                type: 'multiple',
                question: "Which statements about Group 1 metals are correct? (Select all that apply)",
                options: [
                    "They are extracted from their compounds",
                    "They are found pure in nature",
                    "They are very reactive",
                    "They have low melting points",
                    "They have one electron in their outer shell"
                ],
                correct: [0, 2, 3, 4],
                explanation: "Group 1 metals are extracted from their compounds, are very reactive, have low melting points, and have one electron in their outer shell. They are never found pure in nature."
            }
        ];
        
        // Motivational messages
        const motivationalMessages = [
            "You're doing amazing! Keep up the great work!",
            "Chemistry is awesome, and you're awesome at it!",
            "Every question you answer makes you a chemistry master!",
            "You're on fire! 🔥 Keep that momentum going!",
            "Your chemistry skills are leveling up!",
            "You're unlocking the secrets of the periodic table!",
            "Science has never been this fun, has it?",
            "You're becoming a true chemistry explorer!",
            "Keep pushing those boundaries! You've got this!",
            "Your curiosity will take you far in science!"
        ];
        
        // Fun facts
        const funFacts = [
            "Did you know? Group 1 metals are so reactive they can explode on contact with water!",
            "Fun fact: The word 'alkali' comes from Arabic 'al-qaly' meaning 'ashes of the saltwort plant'!",
            "Amazing! Cesium is so reactive it can melt ice just by touching it!",
            "Wow! Francium is one of the rarest elements - there's only about 20-30 grams in Earth's crust!",
            "Cool fact: Lithium batteries power everything from phones to electric cars!",
            "Did you know? Sodium vapor lamps create that distinctive yellow-orange glow in street lights!",
            "Amazing! Potassium is essential for all living things - it helps your nerves and muscles work!",
            "Fun fact: Rubidium atoms are used in some atomic clocks to measure time precisely!",
            "Wow! The reaction of potassium with water is so violent it can ignite the hydrogen gas!"
        ];
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            // Check authentication state on page load
            auth.onAuthStateChanged((user) => {
                if (user) {
                    currentUser = user;
                    console.log("User is signed in:", user.uid);
                    
                    // Check if this is a fresh sign-in (not just page reload)
                    if (justSignedIn) {
                        console.log("User just signed in, showing pre-quiz introduction");
                        // User just signed in, show pre-quiz introduction
                        showPreQuizIntroduction();
                        justSignedIn = false; // Reset the flag
                    } else {
                        // This is a page reload or existing session
                        console.log("Existing session, checking pre-quiz status");
                        checkPreQuizStatus();
                    }
                } else {
                    console.log("No user signed in");
                    // Show landing page
                    document.getElementById('landingPage').style.display = 'flex';
                    document.getElementById('prequizPage').style.display = 'none';
                    document.getElementById('mainApp').style.display = 'none';
                }
            });
            
            // Set up login form
            document.getElementById('loginFormElement').addEventListener('submit', (e) => {
                e.preventDefault();
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                
                if (!isValidEmail(email)) {
                    showToast('error', 'Invalid Email', 'Please enter a valid email address');
                    return;
                }
                
                showLoading();
                
                auth.signInWithEmailAndPassword(email, password)
                    .then((userCredential) => {
                        const user = userCredential.user;
                        console.log("Sign in successful:", user.uid);
                        showToast('success', 'Welcome Back!', 'Great to see you again, chemistry explorer!');
                        closeLoginModal();
                        // Set flag to indicate user just signed in
                        justSignedIn = true;
                        // The onAuthStateChanged listener will handle showing the pre-quiz introduction
                    })
                    .catch((error) => {
                        const errorCode = error.code;
                        const errorMessage = error.message;
                        console.error("Sign in error:", errorCode, errorMessage);
                        
                        if (errorCode === 'auth/unauthorized-domain') {
                            showToast('error', 'Domain Not Authorized', 
                                'Please add your GitHub Pages domain to the authorized domains in your Firebase project settings.');
                        } else {
                            showToast('error', 'Sign In Failed', errorMessage);
                        }
                    })
                    .finally(() => {
                        hideLoading();
                    });
            });
            
            // Set up signup form
            document.getElementById('signupFormElement').addEventListener('submit', (e) => {
                e.preventDefault();
                const name = document.getElementById('signupName').value;
                const email = document.getElementById('signupEmail').value;
                const password = document.getElementById('signupPassword').value;
                const confirmPassword = document.getElementById('signupConfirmPassword').value;
                
                if (!isValidEmail(email)) {
                    showToast('error', 'Invalid Email', 'Please enter a valid email address');
                    return;
                }
                
                if (password !== confirmPassword) {
                    showToast('error', 'Password Mismatch', 'The passwords you entered do not match.');
                    return;
                }
                
                if (password.length < 6) {
                    showToast('error', 'Password Too Short', 'Password must be at least 6 characters long.');
                    return;
                }
                
                showLoading();
                
                auth.createUserWithEmailAndPassword(email, password)
                    .then((userCredential) => {
                        const user = userCredential.user;
                        
                        // Update user profile with display name
                        return user.updateProfile({
                            displayName: name
                        }).then(() => {
                            console.log("Sign up successful:", user.uid);
                            showToast('success', 'Account Created!', `Welcome to the adventure, ${name}!`);
                            closeLoginModal();
                            
                            // Set flag to indicate user just signed in
                            justSignedIn = true;
                            
                            // Create user data in database
                            const newUser = {
                                uid: user.uid,
                                email: email,
                                displayName: name,
                                points: 0,
                                currentStreak: 1,
                                lastActiveDate: new Date().toDateString(),
                                preQuizCompleted: false,
                                postQuizCompleted: false,
                                achievements: [],
                                createdAt: firebase.database.ServerValue.TIMESTAMP
                            };
                            
                            return database.ref('users/' + user.uid).set(newUser);
                        });
                    })
                    .then(() => {
                        // The onAuthStateChanged listener will handle showing the pre-quiz introduction
                    })
                    .catch((error) => {
                        const errorCode = error.code;
                        const errorMessage = error.message;
                        console.error("Sign up error:", errorCode, errorMessage);
                        
                        if (errorCode === 'auth/email-already-in-use') {
                            showToast('error', 'Email Already In Use', 'This email address is already associated with an account.');
                        } else if (errorCode === 'auth/weak-password') {
                            showToast('error', 'Weak Password', 'Password must be at least 6 characters long.');
                        } else {
                            showToast('error', 'Sign Up Failed', errorMessage);
                        }
                    })
                    .finally(() => {
                        hideLoading();
                    });
            });
            
            // Set up create study group form
            document.getElementById('createStudyGroupForm').addEventListener('submit', (e) => {
                e.preventDefault();
                createStudyGroup();
            });
            
            // Add click handlers for landing page buttons
            document.addEventListener('click', function(e) {
                if (e.target.matches('#landingPage .btn-primary') || e
