
<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Group 1 Alkali Metals - Chemistry</title>
      <meta name="description" content="Interactive learning platform for mastering Group 1 Alkali Metals in chemistry">
      <!-- Tailwind CSS -->
      <script src="https://cdn.tailwindcss.com"></script>
      <!-- Font Awesome -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
      <!-- Firebase SDKs -->
      <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
      <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
      <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
      <!-- jsPDF for PDF export -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
      <!-- Howler for sound effects -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>
      <link rel="icon" type="image/png" href="https://andrewung2009.github.io/TheCuriousChemist/TheCuriousChemist.png">
      <!-- Custom Styles -->
      <link rel="stylesheet" href="styles.css">
   </head>
   <body>
      <!-- Landing Page -->
      <div id="landingPage" class="min-h-screen flex items-center justify-center p-6">
         <div class="bg-white rounded-2xl p-8 max-w-2xl w-full text-center shadow-2xl transform transition-all duration-500 hover:scale-105">
            <div class="text-6xl mb-6 text-indigo-600 animate-pulse">
               <i class="fas fa-atom"></i>
            </div>
            <h1 class="text-4xl font-bold text-gray-800 mb-4">Group 1 Alkali Metals</h1>
            <p class="text-lg text-gray-600 mb-8">Master Chemistry through Interactive Learning</p>
            <div class="grid grid-cols-3 gap-8 mb-8">
               <div class="bg-blue-50 p-6 rounded-xl transform transition-all duration-300 hover:scale-110 hover:shadow-lg">
                  <i class="fas fa-book-open text-3xl text-blue-600 mb-3 transform transition-all duration-300 hover:scale-110"></i>
                  <h3 class="font-semibold">Learn</h3>
                  <p class="text-sm text-gray-600">Interactive content</p>
               </div>
               <div class="bg-green-50 p-6 rounded-xl transform transition-all duration-300 hover:scale-110 hover:shadow-lg">
                  <i class="fas fa-chart-line text-3xl text-green-600 mb-3 transform transition-all duration-300 hover:scale-110"></i>
                  <h3 class="font-semibold">Track</h3>
                  <p class="text-sm text-gray-600">Progress monitoring</p>
               </div>
               <div class="bg-purple-50 p-6 rounded-xl transform transition-all duration-300 hover:scale-110 hover:shadow-lg">
                  <i class="fas fa-graduation-cap text-3xl text-purple-600 mb-3 transform transition-all duration-300 hover:scale-110"></i>
                  <h3 class="font-semibold">Test</h3>
                  <p class="text-sm text-gray-600">Innovative quiz</p>
               </div>
            </div>
            <div class="space-y-6">
               <button onclick="showLoginModal()" class="btn btn-primary w-full transform transition-all duration-300 hover:scale-105">
               <i class="fas fa-sign-in-alt mr-2"></i>
               Sign In to Begin
               </button>
               <button onclick="signInWithMagicLink()" class="btn btn-secondary w-full transform transition-all duration-300 hover:scale-105">
               <i class="fas fa-magic mr-2"></i>
               Continue with Magic Link
               </button>
            </div>
         </div>
      </div>
      <!-- Main App -->
      <div id="mainApp" style="display: none;">
         <!-- Sidebar -->
         <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
               <div class="logo-container">
                  <i class="fas fa-atom text-indigo-600 text-2xl mr-3 transform transition-all duration-300 hover:rotate-180"></i>
                  <div>
                     <h1 class="text-xl font-bold text-gray-800">Group 1 Alkali Metals</h1>
                     <p class="text-sm text-gray-600">Chemistry</p>
                  </div>
               </div>
            </div>
            <!-- Search Bar -->
            <!-- Main Navigation -->
            <div class="nav-section">
               <h3 class="nav-section-title">Learning Path</h3>
               <div class="nav-items">
                  <a href="#" class="nav-item active" id="nav-overview" onclick="navigateToSection('overview')">
                  <i class="fas fa-home nav-icon"></i>
                  <span>Overview</span>
                  <i class="fas fa-check nav-check"></i>
                  </a>
                  <a href="#" class="nav-item locked" id="nav-elements" onclick="navigateToSection('elements')">
                  <i class="fas fa-th nav-icon"></i>
                  <span>Elements</span>
                  <i class="fas fa-lock nav-lock"></i>
                  <i class="fas fa-check nav-check"></i>
                  </a>
                  <a href="#" class="nav-item locked" id="nav-properties" onclick="navigateToSection('properties')">
                  <i class="fas fa-chart-line nav-icon"></i>
                  <span>Properties</span>
                  <i class="fas fa-lock nav-lock"></i>
                  <i class="fas fa-check nav-check"></i>
                  </a>
                  <a href="#" class="nav-item locked" id="nav-reactions" onclick="navigateToSection('reactions')">
                  <i class="fas fa-flask nav-icon"></i>
                  <span>Reactions</span>
                  <i class="fas fa-lock nav-lock"></i>
                  <i class="fas fa-check nav-check"></i>
                  </a>
                  <a href="#" class="nav-item locked" id="nav-quiz" onclick="navigateToSection('quiz')">
                  <i class="fas fa-graduation-cap nav-icon"></i>
                  <span>Quiz</span>
                  <i class="fas fa-lock nav-lock"></i>
                  <i class="fas fa-check nav-check"></i>
                  </a>
               </div>
            </div>
            <!-- Community Section -->
            <div class="nav-section">
               <h3 class="nav-section-title">Community</h3>
               <div class="nav-items">
                  <a href="#" class="nav-item" id="nav-discussion" onclick="navigateToSection('discussion')">
                  <i class="fas fa-comments nav-icon"></i>
                  <span>Discussion</span>
                  <span class="nav-badge">3</span>
                  </a>
                  <a href="#" class="nav-item" id="nav-study-groups" onclick="navigateToSection('study-groups')">
                  <i class="fas fa-users nav-icon"></i>
                  <span>Study Groups</span>
                  <span class="nav-badge">2</span>
                  </a>
                  <a href="#" class="nav-item" id="nav-leaderboard" onclick="navigateToSection('leaderboard')">
                  <i class="fas fa-trophy nav-icon"></i>
                  <span>Leaderboard</span>
                  </a>
               </div>
            </div>
            <!-- Tools Section -->
            <div class="nav-section">
               <h3 class="nav-section-title">Tools</h3>
               <div class="nav-items">
                  <a href="#" class="nav-item" onclick="showFeedbackModal()">
                  <i class="fas fa-comment-dots nav-icon"></i>
                  <span>Feedback</span>
                  </a>
                  <a href="#" class="nav-item" onclick="exportToPDF()">
                  <i class="fas fa-file-pdf nav-icon"></i>
                  <span>Export Notes</span>
                  </a>
               </div>
            </div>
            <!-- User Section -->
            <div class="user-section">
               <div class="xp-container">
                  <div class="xp-label">
                     <i class="fas fa-star text-yellow-500"></i>
                     <span>Your XP</span>
                  </div>
                  <div class="xp-value" id="userXP">0</div>
               </div>
               <div class="badges-container">
                  <div class="badges-label">Badges</div>
                  <div id="userBadges" class="badges-list">
                     <!-- Badges will be loaded here -->
                  </div>
               </div>
               <div class="user-info">
                  <div class="user-details">
                     <div class="user-name" id="userName">User</div>
                     <div class="user-email" id="userEmail">user@example.com</div>
                  </div>
                  <button onclick="signOut()" class="logout-btn">
                  <i class="fas fa-sign-out-alt"></i>
                  </button>
               </div>
            </div>
         </nav>
         <!-- Main Content -->
         <main class="main-content">
            <!-- Daily Challenge -->
            <div id="dailyChallenge" class="daily-challenge" style="display: none;">
               <h3><i class="fas fa-calendar-day mr-2"></i> Daily Challenge</h3>
               <p id="dailyChallengeQuestion">Loading daily challenge...</p>
               <button onclick="showDailyChallengeModal()" class="btn btn-secondary transform transition-all duration-300 hover:scale-105">
               <i class="fas fa-play mr-2"></i>
               Take Challenge
               </button>
            </div>
            <!-- Progress Tracker -->
            <div class="content-card">
               <div class="flex justify-between items-center mb-6">
                  <h3 class="text-xl font-bold text-gray-800">Your Progress</h3>
                  <div class="text-xl font-bold text-indigo-600" id="progressPercentage">0%</div>
               </div>
               <div class="progress-bar">
                  <div class="progress-fill" id="overallProgressFill" style="width: 0%"></div>
               </div>
               <div class="grid grid-cols-4 gap-6 mt-6">
                  <div class="text-center p-4 bg-gray-100 rounded-lg transform transition-all duration-300 hover:scale-105" id="progress-overview">
                     <i class="fas fa-home text-gray-600 mb-3 transform transition-all duration-300 hover:scale-110"></i>
                     <div class="text-sm font-medium text-gray-700">Overview</div>
                     <div class="text-xs text-gray-500 mt-1">Not Started</div>
                  </div>
                  <div class="text-center p-4 bg-gray-100 rounded-lg transform transition-all duration-300 hover:scale-105" id="progress-elements">
                     <i class="fas fa-th text-gray-600 mb-3 transform transition-all duration-300 hover:scale-110"></i>
                     <div class="text-sm font-medium text-gray-700">Elements</div>
                     <div class="text-xs text-gray-500 mt-1">Locked</div>
                  </div>
                  <div class="text-center p-4 bg-gray-100 rounded-lg transform transition-all duration-300 hover:scale-105" id="progress-properties">
                     <i class="fas fa-chart-line text-gray-600 mb-3 transform transition-all duration-300 hover:scale-110"></i>
                     <div class="text-sm font-medium text-gray-700">Properties</div>
                     <div class="text-xs text-gray-500 mt-1">Locked</div>
                  </div>
                  <div class="text-center p-4 bg-gray-100 rounded-lg transform transition-all duration-300 hover:scale-105" id="progress-quiz">
                     <i class="fas fa-graduation-cap text-gray-600 mb-3 transform transition-all duration-300 hover:scale-110"></i>
                     <div class="text-sm font-medium text-gray-700">Quiz</div>
                     <div class="text-xs text-gray-500 mt-1">Locked</div>
                  </div>
               </div>
            </div>
            <!-- Overview Section -->
            <section id="overview-section" class="content-section">
               <div class="content-card">
                  <h3 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                     <i class="fas fa-info-circle mr-3 text-indigo-600 transform transition-all duration-300 hover:scale-110"></i>
                     Introduction to Group 1 Alkali Metals
                  </h3>
                  <div class="mb-8">
                     <div class="bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border-l-4 border-indigo-500 shadow-sm hover:shadow-md transition-shadow duration-300">
                        <h4 class="font-semibold text-indigo-800 mb-3">Key Concepts</h4>
                        <ul class="space-y-3 text-gray-700">
                           <li class="flex items-start">
                              <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                              <span>Group 1 elements: <span class="interactive-element font-semibold text-indigo-600" onclick="showElementQuiz('lithium')">Lithium (Li)</span>, <span class="interactive-element font-semibold text-indigo-600" onclick="showElementQuiz('sodium')">Sodium (Na)</span>, <span class="interactive-element font-semibold text-indigo-600" onclick="showElementQuiz('potassium')">Potassium (K)</span>, Rubidium (Rb), Cesium (Cs), Francium (Fr)</span>
                           </li>
                           <li class="flex items-start">
                              <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                              <span>Known as <span class="interactive-element font-semibold text-indigo-600" onclick="showTermQuiz('alkali-metals')">alkali metals</span></span>
                           </li>
                           <li class="flex items-start">
                              <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                              <span>Outer shell: <span class="interactive-element font-semibold text-indigo-600" onclick="showTermQuiz('valence-electron')">1 valence electron</span></span>
                           </li>
                           <li class="flex items-start">
                              <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                              <span>Form +1 ions by losing this electron</span>
                           </li>
                           <li class="flex items-start">
                              <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                              <span>Stored under oil to prevent reaction with air</span>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- Key Properties with Tooltips -->
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                     <div class="bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                        <h4 class="font-semibold text-indigo-800 mb-3 flex items-center">
                           <i class="fas fa-atom mr-2"></i> Key Properties
                        </h4>
                        <ul class="space-y-3 text-gray-700">
                           <li><span class="interactive-element font-medium text-indigo-600" onclick="showTermQuiz('soft')">Soft metals</span></li>
                           <li><span class="interactive-element font-medium text-indigo-600" onclick="showTermQuiz('melting-point')">Low melting points</span></li>
                           <li><span class="interactive-element font-medium text-indigo-600" onclick="showTermQuiz('density')">Low densities</span></li>
                           <li><span class="interactive-element font-medium text-indigo-600" onclick="showTermQuiz('reactivity')">Reactive with water and oxygen</span></li>
                           <li><span class="interactive-element font-medium text-indigo-600" onclick="showTermQuiz('flame-test')">Characteristic flame test colors</span></li>
                        </ul>
                     </div>
                     <div class="bg-gradient-to-br from-purple-50 to-indigo-50 p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                        <h4 class="font-semibold text-indigo-800 mb-3 flex items-center">
                           <i class="fas fa-chart-line mr-2"></i> Trends
                        </h4>
                        <ul class="space-y-3 text-gray-700">
                           <li><span class="interactive-element font-medium text-indigo-600" onclick="showTrendQuiz('melting-point')">Melting Point</span> <i class="fas fa-arrow-down text-red-500"></i> down group</li>
                           <li><span class="interactive-element font-medium text-indigo-600" onclick="showTrendQuiz('density')">Density</span> <i class="fas fa-arrow-up text-green-500"></i> down group (K exception)</li>
                           <li><span class="interactive-element font-medium text-indigo-600" onclick="showTrendQuiz('reactivity')">Reactivity</span> <i class="fas fa-arrow-up text-green-500"></i> down group</li>
                           <li>Atomic radius <i class="fas fa-arrow-up text-green-500"></i> down group</li>
                        </ul>
                     </div>
                  </div>
                  <!-- Interactive Element Quiz Popup -->
                  <div id="elementQuizPopup" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                     <div class="bg-white rounded-lg p-6 max-w-md w-full shadow-xl">
                        <h3 class="text-xl font-bold mb-4" id="elementQuizTitle">Element Quiz</h3>
                        <p id="elementQuizQuestion" class="mb-4"></p>
                        <div id="elementQuizOptions" class="space-y-2 mb-4"></div>
                        <div id="elementQuizFeedback" class="mb-4 p-3 rounded-lg hidden"></div>
                        <button onclick="closeElementQuiz()" class="btn btn-primary w-full">Close</button>
                     </div>
                  </div>
                  <!-- YouTube Video -->
                  <div class="mt-8">
                     <h4 class="font-semibold mb-3">Learn More:</h4>
                     <div class="aspect-w-16 aspect-h-9">
                        <iframe src="https://www.youtube.com/embed/TGZs93DzMDY" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen class="w-full h-64 rounded-lg transform transition-all duration-300 hover:scale-105"></iframe>
                     </div>
                  </div>
                  <div class="flex justify-center mt-6">
                     <button id="overview-complete-btn" class="btn btn-success section-complete-btn transform transition-all duration-300 hover:scale-105" onclick="completeSection('overview')">
                     <i class="fas fa-check mr-2"></i>
                     Mark as Complete
                     </button>
                  </div>
               </div>
            </section>
            <!-- Elements Section -->
            <section id="elements-section" class="content-section" style="display: none;">
               <div class="content-card">
                  <h3 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                     <i class="fas fa-th mr-3 text-indigo-600 transform transition-all duration-300 hover:scale-110"></i>
                     Group 1 Elements
                  </h3>
                  <!-- Interactive Periodic Table -->
                  <div class="mb-8">
                     <h4 class="font-semibold mb-3">Interactive Periodic Table</h4>
                     <div class="periodic-table">
                        <!-- Simplified periodic table with Group 1 highlighted -->
                        <div class="element group1" data-element="Li" onclick="showElementDetails('Lithium', 'Li', 3, '2,1')">
                           <span class="element-number">3</span>
                           <span class="element-symbol">Li</span>
                           <span class="element-name">Lithium</span>
                        </div>
                        <div class="element" data-element="Na" onclick="showElementDetails('Sodium', 'Na', 11, '2,8,1')">
                           <span class="element-number">11</span>
                           <span class="element-symbol">Na</span>
                           <span class="element-name">Sodium</span>
                        </div>
                        <div class="element" data-element="K" onclick="showElementDetails('Potassium', 'K', 19, '2,8,8,1')">
                           <span class="element-number">19</span>
                           <span class="element-symbol">K</span>
                           <span class="element-name">Potassium</span>
                        </div>
                        <div class="element" data-element="Rb" onclick="showElementDetails('Rubidium', 'Rb', 37, '2,8,18,8,1')">
                           <span class="element-number">37</span>
                           <span class="element-symbol">Rb</span>
                           <span class="element-name">Rubidium</span>
                        </div>
                        <div class="element" data-element="Cs" onclick="showElementDetails('Cesium', 'Cs', 55, '2,8,18,18,8,1')">
                           <span class="element-number">55</span>
                           <span class="element-symbol">Cs</span>
                           <span class="element-name">Cesium</span>
                        </div>
                        <div class="element" data-element="Fr" onclick="showElementDetails('Francium', 'Fr', 87, '2,8,18,32,18,8,1')">
                           <span class="element-number">87</span>
                           <span class="element-symbol">Fr</span>
                           <span class="element-name">Francium</span>
                        </div>
                     </div>
                  </div>
                  <!-- Element Details Modal -->
                  <div id="elementDetailsModal" class="modal">
                     <div class="modal-content">
                        <div class="flex justify-between items-center mb-6">
                           <h2 class="text-2xl font-bold text-gray-800" id="elementDetailsName">Element Details</h2>
                           <button onclick="closeElementDetails()" class="text-gray-500 hover:text-gray-700 transform transition-all duration-300 hover:scale-110">
                           <i class="fas fa-times text-xl"></i>
                           </button>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                           <div>
                              <div class="bg-gray-100 p-5 rounded-lg mb-5">
                                 <h3 class="font-semibold text-gray-800 mb-3">Atomic Information</h3>
                                 <p><strong>Symbol:</strong> <span id="elementDetailsSymbol"></span></p>
                                 <p><strong>Atomic Number:</strong> <span id="elementDetailsNumber"></span></p>
                                 <p><strong>Electron Configuration:</strong> <span id="elementDetailsConfig"></span></p>
                              </div>
                              <div class="bg-gray-100 p-5 rounded-lg">
                                 <h3 class="font-semibold text-gray-800 mb-3">Properties</h3>
                                 <p><strong>Melting Point:</strong> <span id="elementDetailsMP"></span></p>
                                 <p><strong>Density:</strong> <span id="elementDetailsDensity"></span></p>
                                 <p><strong>Reactivity:</strong> <span id="elementDetailsReactivity"></span></p>
                              </div>
                           </div>
                           <div>
                              <div class="bg-gray-100 p-5 rounded-lg mb-5">
                                 <h3 class="font-semibold text-gray-800 mb-3">Uses</h3>
                                 <p id="elementDetailsUses"></p>
                              </div>
                              <div class="bg-gray-100 p-5 rounded-lg">
                                 <h3 class="font-semibold text-gray-800 mb-3">Fun Fact</h3>
                                 <p id="elementDetailsFact"></p>
                              </div>
                           </div>
                        </div>
                        <div class="bg-blue-50 p-5 rounded-lg border-l-4 border-blue-500">
                           <h3 class="font-semibold text-blue-800 mb-3">Quick Quiz</h3>
                           <p id="elementDetailsQuizQuestion"></p>
                           <div id="elementDetailsQuizOptions" class="mt-3 space-y-2"></div>
                           <div id="elementDetailsQuizFeedback" class="mt-3 p-3 rounded-lg hidden"></div>
                        </div>
                     </div>
                  </div>
                  <div class="element-grid">
                     <div class="element-card" onclick="showElementDetails('Lithium', 'Li', 3, '2,1')">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/e/ed/Lithiumcut_cropped.jpg" alt="Lithium" class="element-image">
                        <h4 class="font-bold text-lg">Lithium (Li)</h4>
                        <p class="text-sm text-gray-600">Atomic: 3</p>
                        <p class="text-sm text-gray-600">Electron: 2,1</p>
                        <div class="text-xs text-gray-500 mt-2">Lightest metal, floats on water</div>
                     </div>
                     <div class="element-card" onclick="showElementDetails('Sodium', 'Na', 11, '2,8,1')">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/2/27/Na_%28Sodium%29.jpg" alt="Sodium" class="element-image">
                        <h4 class="font-bold text-lg">Sodium (Na)</h4>
                        <p class="text-sm text-gray-600">Atomic: 11</p>
                        <p class="text-sm text-gray-600">Electron: 2,8,1</p>
                        <div class="text-xs text-gray-500 mt-2">Yellow flame test, street lamps</div>
                     </div>
                     <div class="element-card" onclick="showElementDetails('Potassium', 'K', 19, '2,8,8,1')">
                        <img src="https://cdn.britannica.com/77/131177-050-79292189/fragments-Potassium-metal.jpg" alt="Potassium" class="element-image">
                        <h4 class="font-bold text-lg">Potassium (K)</h4>
                        <p class="text-sm text-gray-600">Atomic: 19</p>
                        <p class="text-sm text-gray-600">Electron: 2,8,8,1</p>
                        <div class="text-xs text-gray-500 mt-2">Violet flame, essential for life</div>
                     </div>
                     <div class="element-card" onclick="showElementDetails('Rubidium', 'Rb', 37, '2,8,18,8,1')">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/c/c9/Rb5.JPG" alt="Rubidium" class="element-image">
                        <h4 class="font-bold text-lg">Rubidium (Rb)</h4>
                        <p class="text-sm text-gray-600">Atomic: 37</p>
                        <p class="text-sm text-gray-600">Electron: 2,8,18,8,1</p>
                        <div class="text-xs text-gray-500 mt-2">Used in atomic clocks</div>
                     </div>
                     <div class="element-card" onclick="showElementDetails('Cesium', 'Cs', 55, '2,8,18,18,8,1')">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/3/3d/Cesium.jpg" alt="Cesium" class="element-image">
                        <h4 class="font-bold text-lg">Cesium (Cs)</h4>
                        <p class="text-sm text-gray-600">Atomic: 55</p>
                        <p class="text-sm text-gray-600">Electron: 2,8,18,18,8,1</p>
                        <div class="text-xs text-gray-500 mt-2">Most reactive, photoelectric cells</div>
                     </div>
                     <div class="element-card" onclick="showElementDetails('Francium', 'Fr', 87, '2,8,18,32,18,8,1')">
                        <img src="https://i0.wp.com/periodic-table.com/wp-content/uploads/2018/11/Francium.jpg?fit=238%2C212&ssl=1" alt="Francium" class="element-image">
                        <h4 class="font-bold text-lg">Francium (Fr)</h4>
                        <p class="text-sm text-gray-600">Atomic: 87</p>
                        <p class="text-sm text-gray-600">Electron: 2,8,18,32,18,8,1</p>
                        <div class="text-xs text-gray-500 mt-2">Radioactive, extremely rare</div>
                     </div>
                  </div>
                  <div class="flex justify-center mt-6">
                     <button id="elements-complete-btn" class="btn btn-success section-complete-btn transform transition-all duration-300 hover:scale-105" onclick="completeSection('elements')">
                     <i class="fas fa-check mr-2"></i>
                     Mark as Complete
                     </button>
                  </div>
               </div>
            </section>
            <!-- Properties Section -->
            <section id="properties-section" class="content-section" style="display: none;">
               <div class="content-card">
                  <h3 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                     <i class="fas fa-chart-line mr-3 text-indigo-600 transform transition-all duration-300 hover:scale-110"></i>
                     Trends in Group 1
                  </h3>
                  <div class="tabs">
                     <button class="tab active" onclick="showTab('melting-point')">Melting Point</button>
                     <button class="tab" onclick="showTab('density')">Density</button>
                     <button class="tab" onclick="showTab('reactivity')">Reactivity</button>
                  </div>
                  <div id="melting-point" class="tab-content active">
                     <div class="bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border-l-4 border-indigo-500 shadow-sm hover:shadow-md transition-shadow duration-300 mb-6">
                        <h4 class="font-semibold text-indigo-800 mb-3">Key Points</h4>
                        <ul class="list-disc pl-6 space-y-2 text-gray-700">
                           <li>Melting point <strong>decreases</strong> down Group 1</li>
                           <li>Due to increasing atomic size and weaker metallic bonding</li>
                           <li>Li: 180.5°C → Cs: 28.4°C</li>
                        </ul>
                     </div>
                     <!-- Trend Explanation Modal -->
                     <div id="trendExplanationModal" class="modal">
                        <div class="modal-content">
                           <div class="flex justify-between items-center mb-6">
                              <h2 class="text-2xl font-bold text-gray-800" id="trendExplanationTitle">Trend Explanation</h2>
                              <button onclick="closeTrendExplanation()" class="text-gray-500 hover:text-gray-700 transform transition-all duration-300 hover:scale-110">
                              <i class="fas fa-times text-xl"></i>
                              </button>
                           </div>
                           <div class="mb-6">
                              <h3 class="text-lg font-semibold mb-3" id="trendExplanationHeading">Heading</h3>
                              <p id="trendExplanationContent" class="text-gray-700 mb-5"></p>
                              <div class="bg-blue-50 p-5 rounded-lg border-l-4 border-blue-500">
                                 <h4 class="font-semibold text-blue-800 mb-3">Quick Quiz</h4>
                                 <p id="trendExplanationQuizQuestion"></p>
                                 <div id="trendExplanationQuizOptions" class="mt-3 space-y-2"></div>
                                 <div id="trendExplanationQuizFeedback" class="mt-3 p-3 rounded-lg hidden"></div>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div id="density" class="tab-content">
                     <div class="bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border-l-4 border-indigo-500 shadow-sm hover:shadow-md transition-shadow duration-300 mb-6">
                        <h4 class="font-semibold text-indigo-800 mb-3">Key Points</h4>
                        <ul class="list-disc pl-6 space-y-2 text-gray-700">
                           <li>Density generally <strong>increases</strong> down Group 1</li>
                           <li>Exception: Potassium (0.89 g/cm³) is less dense than Sodium (0.97 g/cm³)</li>
                           <li>Li: 0.53 g/cm³ → Cs: 1.93 g/cm³</li>
                        </ul>
                     </div>
                     <table class="trend-table">
                        <thead>
                           <tr>
                              <th>Element</th>
                              <th>Density (g/cm³)</th>
                              <th>Trend Explanation</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr onclick="showTrendExplanation('density', 'lithium')">
                              <td>Lithium</td>
                              <td>0.534</td>
                              <td>Lowest density, floats on water</td>
                           </tr>
                           <tr onclick="showTrendExplanation('density', 'sodium')">
                              <td>Sodium</td>
                              <td>0.968</td>
                              <td>Denser than lithium but still floats</td>
                           </tr>
                           <tr onclick="showTrendExplanation('density', 'potassium')">
                              <td>Potassium</td>
                              <td>0.89</td>
                              <td>Anomaly - less dense than sodium</td>
                           </tr>
                           <tr onclick="showTrendExplanation('density', 'rubidium')">
                              <td>Rubidium</td>
                              <td>1.532</td>
                              <td>Significantly denser, sinks in water</td>
                           </tr>
                           <tr onclick="showTrendExplanation('density', 'cesium')">
                              <td>Cesium</td>
                              <td>1.93</td>
                              <td>Densest in the group</td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <div id="reactivity" class="tab-content">
                     <div class="bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border-l-4 border-indigo-500 shadow-sm hover:shadow-md transition-shadow duration-300 mb-6">
                        <h4 class="font-semibold text-indigo-800 mb-3">Key Points</h4>
                        <ul class="list-disc pl-6 space-y-2 text-gray-700">
                           <li>Reactivity <strong>increases</strong> down Group 1</li>
                           <li>Outer electron further from nucleus, easier to lose</li>
                           <li>Reaction with water becomes more vigorous</li>
                        </ul>
                     </div>
                     <div class="highlight-box">
                        <h4>Reactivity Series</h4>
                        <p>Most Reactive: Cesium > Rubidium > Potassium > Sodium > Lithium :Least Reactive</p>
                     </div>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
                        <div class="bg-gradient-to-br from-red-50 to-orange-50 p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                           <h4 class="font-semibold text-red-800 mb-3">Lithium Reaction</h4>
                           <p class="text-gray-700">Fizzes steadily with water, moves slowly on surface</p>
                           <button onclick="showReactionVideo('lithium')" class="btn btn-primary btn-sm mt-3">Watch Reaction</button>
                        </div>
                        <div class="bg-gradient-to-br from-orange-50 to-yellow-50 p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                           <h4 class="font-semibold text-orange-800 mb-3">Sodium Reaction</h4>
                           <p class="text-gray-700">Fizzes rapidly, melts into a ball, moves quickly</p>
                           <button onclick="showReactionVideo('sodium')" class="btn btn-primary btn-sm mt-3">Watch Reaction</button>
                        </div>
                        <div class="bg-gradient-to-br from-yellow-50 to-green-50 p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                           <h4 class="font-semibold text-yellow-800 mb-3">Potassium Reaction</h4>
                           <p class="text-gray-700">Fizzes violently, ignites with lilac flame</p>
                           <button onclick="showReactionVideo('potassium')" class="btn btn-primary btn-sm mt-3">Watch Reaction</button>
                        </div>
                        <div class="bg-gradient-to-br from-green-50 to-blue-50 p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                           <h4 class="font-semibold text-green-800 mb-3">Cesium Reaction</h4>
                           <p class="text-gray-700">Explodes on contact with water</p>
                           <button onclick="showReactionVideo('cesium')" class="btn btn-primary btn-sm mt-3">Watch Reaction</button>
                        </div>
                     </div>
                  </div>
                  <div class="flex justify-center mt-6">
                     <button id="properties-complete-btn" class="btn btn-success section-complete-btn transform transition-all duration-300 hover:scale-105" onclick="completeSection('properties')">
                     <i class="fas fa-check mr-2"></i>
                     Mark as Complete
                     </button>
                  </div>
               </div>
            </section>
            <!-- Reactions Section -->
            <section id="reactions-section" class="content-section" style="display: none;">
               <div class="content-card">
                  <h3 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                     <i class="fas fa-flask mr-3 text-indigo-600 transform transition-all duration-300 hover:scale-110"></i>
                     Reactions of Group 1 Metals
                  </h3>
                  <div class="tabs">
                     <button class="tab active" onclick="showTab('water')">With Water</button>
                     <button class="tab" onclick="showTab('oxygen')">With Oxygen</button>
                  </div>
                  <div id="water" class="tab-content active">
                     <div class="bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border-l-4 border-indigo-500 shadow-sm hover:shadow-md transition-shadow duration-300 mb-6">
                        <h4 class="font-semibold text-indigo-800 mb-3">Key Points</h4>
                        <ul class="list-disc pl-6 space-y-2 text-gray-700">
                           <li>All Group 1 metals react with water</li>
                           <li>Products: Metal hydroxide + Hydrogen gas</li>
                           <li>Reactivity increases down the group</li>
                        </ul>
                     </div>
                     <div class="equation-box">
                        <p class="text-gray-700 mb-3">General equation:</p>
                        <p class="equation">2M(s) + 2H₂O(l) → 2MOH(aq) + H₂(g)</p>
                     </div>
                     <div class="highlight-box">
                        <h4>Observations</h4>
                        <ul class="list-disc pl-6 space-y-1">
                           <li><strong>Lithium:</strong> Fizzes steadily</li>
                           <li><strong>Sodium:</strong> Fizzes rapidly, melts into a ball</li>
                           <li><strong>Potassium:</strong> Fizzes violently, ignites with lilac flame</li>
                        </ul>
                     </div>
                     <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
                        <div class="bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                           <h4 class="font-semibold text-blue-800 mb-3">Lithium + Water</h4>
                           <p class="equation text-sm">2Li(s) + 2H₂O(l) → 2LiOH(aq) + H₂(g)</p>
                           <button onclick="showReactionDetails('lithium-water')" class="btn btn-primary btn-sm mt-3">View Details</button>
                        </div>
                        <div class="bg-gradient-to-br from-purple-50 to-indigo-50 p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                           <h4 class="font-semibold text-purple-800 mb-3">Sodium + Water</h4>
                           <p class="equation text-sm">2Na(s) + 2H₂O(l) → 2NaOH(aq) + H₂(g)</p>
                           <button onclick="showReactionDetails('sodium-water')" class="btn btn-primary btn-sm mt-3">View Details</button>
                        </div>
                        <div class="bg-gradient-to-br from-pink-50 to-purple-50 p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                           <h4 class="font-semibold text-pink-800 mb-3">Potassium + Water</h4>
                           <p class="equation text-sm">2K(s) + 2H₂O(l) → 2KOH(aq) + H₂(g)</p>
                           <button onclick="showReactionDetails('potassium-water')" class="btn btn-primary btn-sm mt-3">View Details</button>
                        </div>
                     </div>
                  </div>
                  <div id="oxygen" class="tab-content">
                     <div class="bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border-l-4 border-indigo-500 shadow-sm hover:shadow-md transition-shadow duration-300 mb-6">
                        <h4 class="font-semibold text-indigo-800 mb-3">Key Points</h4>
                        <ul class="list-disc pl-6 space-y-2 text-gray-700">
                           <li>Group 1 metals react with oxygen when heated</li>
                           <li>Form different types of oxides down the group</li>
                        </ul>
                     </div>
                     <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                           <h5 class="font-semibold text-blue-800">Lithium</h5>
                           <p class="text-blue-600">Forms Li₂O (oxide)</p>
                           <p class="equation text-sm mt-3">4Li(s) + O₂(g) → 2Li₂O(s)</p>
                           <button onclick="showReactionDetails('lithium-oxygen')" class="btn btn-primary btn-sm mt-3">View Details</button>
                        </div>
                        <div class="bg-gradient-to-br from-green-50 to-emerald-50 p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                           <h5 class="font-semibold text-green-800">Sodium</h5>
                           <p class="text-green-600">Forms Na₂O₂ (peroxide)</p>
                           <p class="equation text-sm mt-3">2Na(s) + O₂(g) → Na₂O₂(s)</p>
                           <button onclick="showReactionDetails('sodium-oxygen')" class="btn btn-primary btn-sm mt-3">View Details</button>
                        </div>
                        <div class="bg-gradient-to-br from-purple-50 to-pink-50 p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                           <h5 class="font-semibold text-purple-800">Potassium</h5>
                           <p class="text-purple-600">Forms KO₂ (superoxide)</p>
                           <p class="equation text-sm mt-3">K(s) + O₂(g) → KO₂(s)</p>
                           <button onclick="showReactionDetails('potassium-oxygen')" class="btn btn-primary btn-sm mt-3">View Details</button>
                        </div>
                     </div>
                     <div class="bg-gradient-to-r from-yellow-50 to-orange-50 p-6 rounded-lg border-l-4 border-orange-500 shadow-sm hover:shadow-md transition-shadow duration-300 mt-8">
                        <h4 class="font-semibold text-orange-800 mb-3">Trend in Oxide Formation</h4>
                        <p class="text-gray-700">As we move down Group 1, the type of oxide formed changes from normal oxides (Li) to peroxides (Na) to superoxides (K, Rb, Cs). This is due to the increasing size of the metal ion, which can stabilize larger oxygen-containing anions.</p>
                        <button onclick="showOxideTrendQuiz()" class="btn btn-primary btn-sm mt-3">Test Your Knowledge</button>
                     </div>
                  </div>
                  <!-- Reaction Details Modal -->
                  <div id="reactionDetailsModal" class="modal">
                     <div class="modal-content">
                        <div class="flex justify-between items-center mb-6">
                           <h2 class="text-2xl font-bold text-gray-800" id="reactionDetailsTitle">Reaction Details</h2>
                           <button onclick="closeReactionDetails()" class="text-gray-500 hover:text-gray-700 transform transition-all duration-300 hover:scale-110">
                           <i class="fas fa-times text-xl"></i>
                           </button>
                        </div>
                        <div class="mb-6">
                           <div class="bg-gray-100 p-5 rounded-lg mb-5">
                              <h3 class="font-semibold text-gray-800 mb-3">Chemical Equation</h3>
                              <p class="equation text-lg" id="reactionDetailsEquation"></p>
                           </div>
                           <div class="bg-gray-100 p-5 rounded-lg mb-5">
                              <h3 class="font-semibold text-gray-800 mb-3">Observations</h3>
                              <p id="reactionDetailsObservations"></p>
                           </div>
                           <div class="bg-gray-100 p-5 rounded-lg mb-5">
                              <h3 class="font-semibold text-gray-800 mb-3">Explanation</h3>
                              <p id="reactionDetailsExplanation"></p>
                           </div>
                           <div class="bg-blue-50 p-5 rounded-lg border-l-4 border-blue-500">
                              <h4 class="font-semibold text-blue-800 mb-3">Quick Quiz</h4>
                              <p id="reactionDetailsQuizQuestion"></p>
                              <div id="reactionDetailsQuizOptions" class="mt-3 space-y-2"></div>
                              <div id="reactionDetailsQuizFeedback" class="mt-3 p-3 rounded-lg hidden"></div>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="flex justify-center mt-6">
                     <button id="reactions-complete-btn" class="btn btn-success section-complete-btn transform transition-all duration-300 hover:scale-105" onclick="completeSection('reactions')">
                     <i class="fas fa-check mr-2"></i>
                     Mark as Complete
                     </button>
                  </div>
               </div>
            </section>
            <!-- Quiz Section -->
            <section id="quiz-section" class="content-section" style="display: none;">
               <div class="content-card">
                  <h3 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                     <i class="fas fa-graduation-cap mr-3 text-indigo-600 transform transition-all duration-300 hover:scale-110"></i>
                     Test Your Knowledge
                  </h3>
                  <div class="bg-gradient-to-r from-indigo-50 to-purple-50 p-8 rounded-lg border-l-4 border-indigo-500 shadow-sm hover:shadow-md transition-shadow duration-300 mb-8">
                     <div class="flex items-center mb-6">
                        <i class="fas fa-info-circle text-indigo-600 text-3xl mr-4"></i>
                        <div>
                           <h4 class="font-semibold text-indigo-800">Quiz Instructions</h4>
                           <p class="text-gray-700">This quiz contains 10 multiple-choice questions about Group 1 Alkali Metals. Take your time to answer each question carefully. You can navigate between questions using the Previous and Next buttons.</p>
                        </div>
                     </div>
                     <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6">
                        <div class="bg-white p-5 rounded-lg shadow-sm">
                           <div class="text-3xl font-bold text-indigo-600">10</div>
                           <div class="text-sm text-gray-600">Questions</div>
                        </div>
                        <div class="bg-white p-5 rounded-lg shadow-sm">
                           <div class="text-3xl font-bold text-indigo-600">5 min</div>
                           <div class="text-sm text-gray-600">Time Limit</div>
                        </div>
                        <div class="bg-white p-5 rounded-lg shadow-sm">
                           <div class="text-3xl font-bold text-indigo-600">80%</div>
                           <div class="text-sm text-gray-600">Passing Score</div>
                        </div>
                     </div>
                  </div>
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                     <div class="bg-gradient-to-br from-green-50 to-emerald-50 p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                        <h4 class="font-semibold text-green-800 mb-3 flex items-center">
                           <i class="fas fa-trophy mr-2"></i> Rewards
                        </h4>
                        <ul class="space-y-3 text-gray-700">
                           <li class="flex items-start">
                              <i class="fas fa-star text-yellow-500 mt-1 mr-3"></i>
                              <span>Earn up to 20 XP points</span>
                           </li>
                           <li class="flex items-start">
                              <i class="fas fa-medal text-yellow-500 mt-1 mr-3"></i>
                              <span>Unlock "Quiz Master" badge with 80%+ score</span>
                           </li>
                           <li class="flex items-start">
                              <i class="fas fa-certificate text-yellow-500 mt-1 mr-3"></i>
                              <span>Get completion certificate</span>
                           </li>
                        </ul>
                     </div>
                     <div class="bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                        <h4 class="font-semibold text-blue-800 mb-3 flex items-center">
                           <i class="fas fa-lightbulb mr-2"></i> Tips
                        </h4>
                        <ul class="space-y-3 text-gray-700">
                           <li class="flex items-start">
                              <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                              <span>Review all sections before attempting</span>
                           </li>
                           <li class="flex items-start">
                              <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                              <span>Pay attention to trends down the group</span>
                           </li>
                           <li class="flex items-start">
                              <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                              <span>Remember the exceptions (like potassium's density)</span>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div class="text-center">
                     <button onclick="startQuiz()" class="btn btn-primary transform transition-all duration-300 hover:scale-105">
                     <i class="fas fa-play mr-2"></i>
                     Start Quiz
                     </button>
                  </div>
               </div>
            </section>
            <!-- Discussion Section -->
            <section id="discussion-section" class="content-section" style="display: none;">
               <div class="content-card">
                  <div class="flex justify-between items-center mb-8">
                     <h3 class="text-2xl font-bold text-gray-800 flex items-center">
                        <i class="fas fa-comments mr-3 text-indigo-600 transform transition-all duration-300 hover:scale-110"></i>
                        Discussion Forum
                     </h3>
                     <button onclick="showCreatePostModal()" class="btn btn-primary transform transition-all duration-300 hover:scale-105">
                     <i class="fas fa-plus mr-2"></i>
                     New Post
                     </button>
                  </div>
                  <!-- Discussion Controls -->
                  <div class="flex flex-col md:flex-row gap-4 mb-8">
                     <div class="search-box flex-1">
                        <i class="fas fa-search"></i>
                        <input type="text" id="discussionSearch" placeholder="Search discussions..." onkeyup="filterDiscussions()">
                     </div>
                     <div class="flex gap-3">
                        <button class="filter-btn active px-5 py-2 bg-indigo-600 text-white rounded-lg" onclick="sortDiscussions('newest')">Newest</button>
                        <button class="filter-btn px-5 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300" onclick="sortDiscussions('oldest')">Oldest</button>
                        <button class="filter-btn px-5 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300" onclick="sortDiscussions('popular')">Most Popular</button>
                     </div>
                  </div>
                  <div id="discussionPosts">
                     <div class="empty-state">
                        <div class="empty-state-icon">
                           <i class="fas fa-comments"></i>
                        </div>
                        <h3 class="empty-state-title">No Posts Yet</h3>
                        <p class="empty-state-description">Be the first to start a discussion about Group 1 Alkali Metals.</p>
                     </div>
                  </div>
               </div>
            </section>
            <!-- Study Groups Section -->
            <section id="study-groups-section" class="content-section" style="display: none;">
               <div class="content-card">
                  <div class="flex justify-between items-center mb-8">
                     <h3 class="text-2xl font-bold text-gray-800 flex items-center">
                        <i class="fas fa-users mr-3 text-indigo-600 transform transition-all duration-300 hover:scale-110"></i>
                        Study Groups
                     </h3>
                     <button onclick="showCreateGroupModal()" class="btn btn-primary transform transition-all duration-300 hover:scale-105">
                     <i class="fas fa-plus mr-2"></i>
                     Create Group
                     </button>
                  </div>
                  <div id="studyGroupsList">
                     <div class="empty-state">
                        <div class="empty-state-icon">
                           <i class="fas fa-users"></i>
                        </div>
                        <h3 class="empty-state-title">No Study Groups Yet</h3>
                        <p class="empty-state-description">Create your first study group to collaborate with peers.</p>
                     </div>
                  </div>
               </div>
            </section>
            <!-- Leaderboard Section -->
            <section id="leaderboard-section" class="content-section" style="display: none;">
               <div class="content-card">
                  <h3 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                     <i class="fas fa-trophy mr-3 text-indigo-600 transform transition-all duration-300 hover:scale-110"></i>
                     Leaderboard
                  </h3>
                  <div id="leaderboardContent">
                     <div class="spinner"></div>
                  </div>
               </div>
            </section>
         </main>
         <!-- Feedback Button -->
         <button class="feedback-button" onclick="showFeedbackModal()" title="Leave Feedback">
         <i class="fas fa-comment-alt"></i>
         </button>
      </div>
      <!-- Login Modal -->
      <div id="loginModal" class="modal">
         <div class="modal-content">
            <div class="flex justify-between items-center mb-8">
               <h2 class="text-2xl font-bold text-gray-800">Welcome to Chemistry Mastery</h2>
               <button onclick="closeLoginModal()" class="text-gray-500 hover:text-gray-700 transform transition-all duration-300 hover:scale-110">
               <i class="fas fa-times text-xl"></i>
               </button>
            </div>
            <div class="mb-8">
               <button onclick="signInWithMagicLink()" class="btn btn-primary w-full transform transition-all duration-300 hover:scale-105">
               <i class="fas fa-magic mr-2"></i>
               Continue with Magic Link
               </button>
            </div>
            <div class="text-center text-gray-600">
               <p>Or continue with email</p>
            </div>
            <form id="loginForm" class="mt-8 space-y-5" onsubmit="handleEmailLogin(event)">
               <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                  <input type="email" id="loginEmail" class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
               </div>
               <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                  <input type="password" id="loginPassword" class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
               </div>
               <button type="submit" class="btn btn-primary w-full transform transition-all duration-300 hover:scale-105">
               <i class="fas fa-sign-in-alt mr-2"></i>
               Sign In
               </button>
            </form>
            <div class="mt-8 text-center">
               <p class="text-sm text-gray-600">Don't have an account? <a href="#" onclick="showSignup()" class="text-indigo-600 hover:text-indigo-800">Sign up</a></p>
            </div>
         </div>
      </div>
      <!-- Magic Link Modal -->
      <div id="magicLinkModal" class="modal">
         <div class="modal-content">
            <div class="flex justify-between items-center mb-8">
               <h2 class="text-2xl font-bold text-gray-800">Magic Link Sign In</h2>
               <button onclick="closeMagicLinkModal()" class="text-gray-500 hover:text-gray-700 transform transition-all duration-300 hover:scale-110">
               <i class="fas fa-times text-xl"></i>
               </button>
            </div>
            <p class="text-gray-600 mb-6">Enter your email address and we'll send you a magic link to sign in instantly.</p>
            <form id="magicLinkForm" class="magic-link-form" onsubmit="sendMagicLink(event)">
               <div>
                  <input type="email" id="magicLinkEmail" class="magic-link-input" placeholder="Enter your email" required>
               </div>
               <button type="submit" class="magic-link-button">Send Magic Link</button>
            </form>
            <div id="magicLinkMessage" class="magic-link-message" style="display: none;"></div>
         </div>
      </div>
      <!-- Signup Modal -->
      <div id="signupModal" class="modal">
         <div class="modal-content">
            <div class="flex justify-between items-center mb-8">
               <h2 class="text-2xl font-bold text-gray-800">Create Account</h2>
               <button onclick="closeSignupModal()" class="text-gray-500 hover:text-gray-700 transform transition-all duration-300 hover:scale-110">
               <i class="fas fa-times text-xl"></i>
               </button>
            </div>
            <form id="signupForm" class="space-y-5" onsubmit="handleSignup(event)">
               <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Full Name</label>
                  <input type="text" id="signupName" class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
               </div>
               <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                  <input type="email" id="signupEmail" class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
               </div>
               <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                  <input type="password" id="signupPassword" class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
               </div>
               <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Confirm Password</label>
                  <input type="password" id="signupConfirmPassword" class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
               </div>
               <button type="submit" class="btn btn-primary w-full transform transition-all duration-300 hover:scale-105">
               <i class="fas fa-user-plus mr-2"></i>
               Create Account
               </button>
            </form>
            <div class="mt-8 text-center">
               <p class="text-sm text-gray-600">Already have an account? <a href="#" onclick="showLogin()" class="text-indigo-600 hover:text-indigo-800">Sign in</a></p>
            </div>
         </div>
      </div>
      <!-- Create Post Modal -->
      <div id="createPostModal" class="modal">
         <div class="modal-content">
            <div class="flex justify-between items-center mb-8">
               <h2 class="text-2xl font-bold text-gray-800">Create New Post</h2>
               <button onclick="closeCreatePostModal()" class="text-gray-500 hover:text-gray-700 transform transition-all duration-300 hover:scale-110">
               <i class="fas fa-times text-xl"></i>
               </button>
            </div>
            <form id="createPostForm" class="space-y-5" onsubmit="handleCreatePost(event)">
               <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Title</label>
                  <input type="text" id="postTitle" class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Enter post title" required>
               </div>
               <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Content</label>
                  <textarea id="postContent" class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 form-textarea" placeholder="What would you like to discuss?" required></textarea>
               </div>
               <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Tags (comma separated)</label>
                  <input type="text" id="postTags" class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="e.g., melting-point, reactivity, questions">
               </div>
               <button type="submit" class="btn btn-primary w-full transform transition-all duration-300 hover:scale-105">
               <i class="fas fa-paper-plane mr-2"></i>
               Post
               </button>
            </form>
         </div>
      </div>
      <!-- Edit Post Modal -->
      <div id="editPostModal" class="modal">
         <div class="modal-content">
            <div class="flex justify-between items-center mb-8">
               <h2 class="text-2xl font-bold text-gray-800">Edit Post</h2>
               <button onclick="closeEditPostModal()" class="text-gray-500 hover:text-gray-700 transform transition-all duration-300 hover:scale-110">
               <i class="fas fa-times text-xl"></i>
               </button>
            </div>
            <form id="editPostForm" class="space-y-5" onsubmit="handleEditPost(event)">
               <input type="hidden" id="editPostId">
               <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Title</label>
                  <input type="text" id="editPostTitle" class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Enter post title" required>
               </div>
               <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Content</label>
                  <textarea id="editPostContent" class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 form-textarea" placeholder="What would you like to discuss?" required></textarea>
               </div>
               <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Tags (comma separated)</label>
                  <input type="text" id="editPostTags" class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="e.g., melting-point, reactivity, questions">
               </div>
               <button type="submit" class="btn btn-primary w-full transform transition-all duration-300 hover:scale-105">
               <i class="fas fa-save mr-2"></i>
               Save Changes
               </button>
            </form>
         </div>
      </div>
      <!-- Create Study Group Modal -->
      <div id="createGroupModal" class="modal">
         <div class="modal-content">
            <div class="flex justify-between items-center mb-8">
               <h2 class="text-2xl font-bold text-gray-800">Create Study Group</h2>
               <button onclick="closeCreateGroupModal()" class="text-gray-500 hover:text-gray-700 transform transition-all duration-300 hover:scale-110">
               <i class="fas fa-times text-xl"></i>
               </button>
            </div>
            <form id="createGroupForm" class="space-y-5" onsubmit="handleCreateGroup(event)">
               <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Group Name</label>
                  <input type="text" id="groupName" class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Enter group name" required>
               </div>
               <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Topic</label>
                  <select id="groupTopic" class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" required>
                     <option value="">Select a topic</option>
                     <option value="melting-point">Melting Point Trends</option>
                     <option value="density">Density Trends</option>
                     <option value="reactivity">Reactivity Series</option>
                     <option value="reactions">Chemical Reactions</option>
                     <option value="electron-configuration">Electron Configuration</option>
                     <option value="experiments">Laboratory Experiments</option>
                     <option value="exam-prep">Exam Preparation</option>
                  </select>
               </div>
               <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                  <textarea id="groupDescription" class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 form-textarea" placeholder="Describe what this group will focus on" required></textarea>
               </div>
               <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Max Members</label>
                  <select id="groupMaxMembers" class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" required>
                     <option value="5">5 members</option>
                     <option value="10">10 members</option>
                     <option value="15">15 members</option>
                     <option value="20">20 members</option>
                  </select>
               </div>
               <button type="submit" class="btn btn-primary w-full transform transition-all duration-300 hover:scale-105">
               <i class="fas fa-plus mr-2"></i>
               Create Group
               </button>
            </form>
         </div>
      </div>
      <!-- Study Group Details Modal -->
      <div id="groupDetailsModal" class="modal modal-lg">
         <div class="modal-content">
            <div class="flex justify-between items-center mb-8">
               <h2 class="text-2xl font-bold text-gray-800" id="groupDetailsTitle">Study Group Details</h2>
               <button onclick="closeGroupDetailsModal()" class="text-gray-500 hover:text-gray-700 transform transition-all duration-300 hover:scale-110">
               <i class="fas fa-times text-xl"></i>
               </button>
            </div>
            <div id="groupDetailsContent">
               <!-- Group details will be loaded here -->
            </div>
         </div>
      </div>
      <!-- Quiz Modal -->
      <div id="quizModal" class="modal quiz-modal">
         <div class="modal-content">
            <div class="flex justify-between items-center mb-6">
               <h2 class="text-xl font-bold text-gray-800">Group 1 Quiz</h2>
               <button onclick="closeQuiz()" class="text-gray-500 hover:text-gray-700 transform transition-all duration-300 hover:scale-110">
               <i class="fas fa-times text-xl"></i>
               </button>
            </div>
            <div id="quizProgress" class="mb-6">
               <div class="flex justify-between items-center mb-3">
                  <span class="text-sm text-gray-600">Question <span id="currentQuestion">1</span> of <span id="totalQuestions">10</span></span>
                  <span class="text-sm text-gray-600">Score: <span id="currentScore">0</span></span>
               </div>
               <div class="progress-bar">
                  <div class="progress-fill" id="progressFill" style="width: 10%"></div>
               </div>
            </div>
            <div id="quizContent">
               <div class="mb-8">
                  <h3 class="text-lg font-semibold mb-5" id="questionText">Loading question...</h3>
                  <div id="optionsContainer"></div>
               </div>
               <div id="feedback" class="hidden mb-5 p-4 rounded-lg text-sm"></div>
               <div class="flex justify-between items-center">
                  <button id="prevButton" class="btn btn-secondary hidden" onclick="previousQuestion()">
                  <i class="fas fa-arrow-left"></i>
                  Previous
                  </button>
                  <div class="flex gap-3">
                     <button id="submitButton" class="btn btn-primary" onclick="submitAnswer()">
                     Submit Answer
                     </button>
                     <button id="nextButton" class="btn btn-primary hidden" onclick="nextQuestion()">
                     Next
                     <i class="fas fa-arrow-right ml-1"></i>
                     </button>
                  </div>
               </div>
            </div>
            <div id="quizResults" class="hidden text-center">
               <i class="fas fa-trophy text-5xl text-yellow-500 mb-6"></i>
               <h3 class="text-2xl font-bold mb-4">Quiz Complete!</h3>
               <div class="text-4xl font-bold text-indigo-600 mb-4" id="finalScore">0/10</div>
               <p class="text-gray-600 mb-8" id="scoreMessage">Great job!</p>
               <button onclick="closeQuiz()" class="btn btn-primary transform transition-all duration-300 hover:scale-105">
               <i class="fas fa-check"></i>
               Finish
               </button>
            </div>
         </div>
      </div>
      <!-- Feedback Modal -->
      <div id="feedbackModal" class="modal">
         <div class="modal-content">
            <div class="flex justify-between items-center mb-8">
               <h2 class="text-2xl font-bold text-gray-800">Send Feedback</h2>
               <button onclick="closeFeedbackModal()" class="text-gray-500 hover:text-gray-700 transform transition-all duration-300 hover:scale-110">
               <i class="fas fa-times text-xl"></i>
               </button>
            </div>
            <form id="feedbackForm" class="space-y-5" onsubmit="handleFeedback(event)">
               <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Your Feedback</label>
                  <textarea id="feedbackText" class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 form-textarea" placeholder="What do you think about this app?" required></textarea>
               </div>
               <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Rate your experience</label>
                  <div class="reaction-buttons">
                     <button type="button" class="reaction-btn" id="thumbsDownBtn" onclick="setFeedbackRating(1)">
                     <i class="fas fa-thumbs-down"></i>
                     <span>Thumbs Down</span>
                     </button>
                     <button type="button" class="reaction-btn" id="thumbsUpBtn" onclick="setFeedbackRating(2)">
                     <i class="fas fa-thumbs-up"></i>
                     <span>Thumbs Up</span>
                     </button>
                  </div>
                  <input type="hidden" id="feedbackRating" value="0">
               </div>
               <button type="submit" class="btn btn-primary w-full transform transition-all duration-300 hover:scale-105">
               <i class="fas fa-paper-plane mr-2"></i>
               Send Feedback
               </button>
            </form>
         </div>
      </div>
      <!-- Daily Challenge Modal -->
      <div id="dailyChallengeModal" class="modal">
         <div class="modal-content">
            <div class="flex justify-between items-center mb-8">
               <h2 class="text-2xl font-bold text-gray-800">Daily Challenge</h2>
               <button onclick="closeDailyChallengeModal()" class="text-gray-500 hover:text-gray-700 transform transition-all duration-300 hover:scale-110">
               <i class="fas fa-times text-xl"></i>
               </button>
            </div>
            <div class="mb-6">
               <h3 class="text-lg font-semibold mb-4" id="dailyChallengeQuestionText">Loading daily challenge...</h3>
               <div id="dailyChallengeOptions"></div>
            </div>
            <div id="dailyChallengeFeedback" class="hidden mb-5 p-4 rounded-lg text-sm"></div>
            <div class="flex justify-between items-center">
               <button onclick="closeDailyChallengeModal()" class="btn btn-secondary transform transition-all duration-300 hover:scale-105">
               Skip
               </button>
               <button id="dailyChallengeSubmitBtn" class="btn btn-primary transform transition-all duration-300 hover:scale-105" onclick="submitDailyChallenge()">
               Submit Answer
               </button>
            </div>
         </div>
      </div>
      <!-- Quiz Question Modal -->
      <div id="quizQuestionModal" class="modal quiz-question-modal">
         <div class="modal-content">
            <div class="flex justify-between items-center mb-8">
               <h2 class="text-2xl font-bold text-gray-800" id="quizQuestionTitle">Quick Quiz</h2>
               <button onclick="closeQuizQuestionModal()" class="text-gray-500 hover:text-gray-700 transform transition-all duration-300 hover:scale-110">
               <i class="fas fa-times text-xl"></i>
               </button>
            </div>
            <div class="mb-8">
               <div class="quiz-question" id="quizQuestionText">Loading question...</div>
               <div id="quizQuestionAnswers"></div>
               <div id="quizQuestionFeedback" class="quiz-feedback hidden"></div>
            </div>
            <div class="flex justify-end">
               <button onclick="closeQuizQuestionModal()" class="btn btn-secondary mr-3 transform transition-all duration-300 hover:scale-105">
               Close
               </button>
            </div>
         </div>
      </div>
      <!-- Toast Container -->
      <div id="toastContainer"></div>
      <script src="script.js"></script>
   </body>
</html>
